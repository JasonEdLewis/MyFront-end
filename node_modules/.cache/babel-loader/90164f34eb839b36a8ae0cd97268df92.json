{"ast":null,"code":"var _jsxFileName = \"/Users/owner/Desktop/finalprojects/MyStagram/MyFront-end/src/Profile.js\";\nimport React, { Component } from \"react\";\nimport { Navbar, Button, Card } from \"react-bootstrap\";\nimport PostCard from \"./components/PostCard\";\nimport Loader from './components/loader';\nimport { connect } from 'react-redux';\nimport { getPost, changeLike } from './redux/actions/PostActions';\nimport { deleteUser, editUser } from './redux/actions/UserActions';\nimport './css/Profile.css'; // import { storage } from 'firebase';\n\nimport placepic from './img/placeHolder.png';\nimport ProfilePostCard from './components/ProfilePostCard';\nimport fileUploader from './components/FileUploader';\n\nclass Profile extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      promiseReturned: false,\n      likedPosts: [],\n      comment: \"\",\n      deleteAccountRequested: null,\n      edit: true,\n      editUser: {\n        username: \"\"\n      }\n    };\n\n    this.handleLike = (id, likes) => {\n      const likedPosts = this.state.likedPosts;\n      const changeLike = this.props.changeLike;\n\n      if (likedPosts.includes(id)) {\n        changeLike(id, likes, '');\n        const newArr = likedPosts.filter(pId => pId !== id);\n        this.setState({\n          likedPosts: newArr\n        });\n      } else {\n        changeLike(id, likes, 'add');\n        const newArr = [...this.state.likedPosts, id];\n        this.setState({\n          likedPosts: newArr\n        });\n      }\n    };\n\n    this.postCard = () => {\n      const _this$state = this.state,\n            comment = _this$state.comment,\n            edit = _this$state.edit;\n      const _this$props = this.props,\n            post = _this$props.post,\n            user = _this$props.user,\n            id = _this$props.id,\n            pic = _this$props.pic,\n            name = _this$props.name;\n      const pathname = this.props.history.location.pathname;\n      let resultsArr = [];\n      const myPost = post.filter(p => p.user_id == id);\n      console.log(\"My Post\", myPost);\n      return myPost.map(p => React.createElement(ProfilePostCard, {\n        post: p,\n        user: user,\n        name: name,\n        pic: pic,\n        id: id,\n        path: pathname,\n        handleComment: this.handleComment,\n        comment: comment,\n        handleLike: this.handleLike,\n        likedPosts: this.state.likedPosts,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }));\n    };\n\n    this.handleComment = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.preDelete = () => {\n      this.setState({\n        deleteAccountRequested: true\n      });\n    };\n\n    this.deleteProfile = id => {\n      localStorage.clear();\n      const _this$props2 = this.props,\n            deleteUser = _this$props2.deleteUser,\n            history = _this$props2.history;\n      this.setState({\n        deleteAccountRequested: false\n      });\n      deleteUser(id).then(() => {\n        localStorage.clear();\n        history.push('/');\n      });\n    };\n\n    this.confirmDelete = () => {\n      const _this$props3 = this.props,\n            id = _this$props3.id,\n            pic = _this$props3.pic;\n      return React.createElement(\"div\", {\n        className: \"confirm-delete-div\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Are you sure you want to delete your account?\"), pic && React.createElement(React.Fragment, null, React.createElement(\"img\", {\n        src: pic,\n        className: \"pic-in-delete-option\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        className: \"yes-btn\",\n        onClick: () => this.deleteProfile(id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"Yes\"), React.createElement(\"button\", {\n        className: \"no-btn\",\n        onClick: () => this.setState({\n          deleteAccountRequested: false\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"No\"));\n    };\n\n    this.needEdit = () => {\n      this.setState({\n        edit: !this.state.edit\n      });\n    };\n\n    this.handleEdit = e => {\n      const editUser = this.state.editUser;\n      this.setState({\n        [editUser[e.target.name]]: e.target.value\n      });\n    };\n\n    this.editForm = () => {\n      const _this$props4 = this.props,\n            history = _this$props4.history,\n            pic = _this$props4.pic,\n            bio = _this$props4.bio,\n            state = _this$props4.state,\n            user = _this$props4.user,\n            city = _this$props4.city,\n            email = _this$props4.email,\n            zip = _this$props4.zip,\n            id = _this$props4.id;\n      return React.createElement(\"form\", {\n        className: \"edit-profile-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        value: user,\n        type: \"text\",\n        row: \"6\",\n        cols: \"60\",\n        onChange: this.handleEdit,\n        name: \"username\",\n        placeholder: user,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        name: \"email\",\n        value: this.state.editUser.email,\n        onChange: this.handleEdit,\n        placeholder: email,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        name: \"city\",\n        value: city,\n        onChange: this.handleEdit,\n        placeholder: city,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        name: \"state\",\n        value: state,\n        onChange: this.handleEdit,\n        placeholder: state,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        name: \"zip\",\n        value: zip,\n        onChange: this.handleEdit,\n        placeholder: zip,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }), React.createElement(\"textarea\", {\n        value: bio,\n        type: \"text\",\n        onChange: this.handleEdit,\n        name: \"bio\",\n        placeholder: bio,\n        className: \"edit-bio\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: this.fileInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"add pic\"), React.createElement(\"input\", {\n        type: \"file\",\n        hidden: true,\n        ref: fileInput => this.fileInput = fileInput,\n        onChange: this.selectedFileHander,\n        value: pic,\n        name: \"picture\",\n        onChange: this.handleEdit,\n        placeholder: pic ? pic : placepic,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"submit\",\n        onClick: console.log(id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }));\n    };\n  }\n\n  componentDidMount() {\n    !localStorage.token && this.props.history.push('/');\n    const _this$props5 = this.props,\n          getPost = _this$props5.getPost,\n          post = _this$props5.post,\n          changeLike = _this$props5.changeLike;\n    getPost();\n    post && this.setState({\n      promiseReturned: true\n    });\n    console.log(\"Promise \", this.state.promiseReturned);\n  }\n\n  render() {\n    const _this$props6 = this.props,\n          history = _this$props6.history,\n          pic = _this$props6.pic,\n          city = _this$props6.city,\n          bio = _this$props6.bio,\n          state = _this$props6.state,\n          requested = _this$props6.requested;\n    const _this$state2 = this.state,\n          deleteAccountRequested = _this$state2.deleteAccountRequested,\n          edit = _this$state2.edit;\n    const dlt = deleteAccountRequested;\n    const user = localStorage.currentUser; // const { pathname } = this.props.history.location\n    // console.log(\"Pathname:\", pathname);\n    // this.props.history.location.pathname\n\n    console.log(\"Profile props:\", this.props);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: dlt ? \" parent delete-requested\" : \"parent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"nav-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"user-gram\",\n      onClick: () => history.push('/home'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, user, \"'taGram \"), React.createElement(\"span\", {\n      className: \"camera\",\n      id: this.state.id,\n      onClick: () => history.push('/home'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \" \\uD83D\\uDCF8 \"), React.createElement(\"button\", {\n      className: \"logout-btn\",\n      variant: \"outline-dark\",\n      onClick: () => this.props.history.push(\"/login\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"logout\"), React.createElement(\"span\", {\n      className: \"dots-edit-profile\",\n      onClick: e => console.log(e.target.className),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \". . .\")), React.createElement(\"div\", {\n      className: \"profile-section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, !edit && React.createElement(React.Fragment, null, \" \", React.createElement(\"h3\", {\n      className: \"hi-im\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \"Hi I'm \", user)), React.createElement(\"img\", {\n      src: pic,\n      className: \"profile-pic\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"bio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, \"Bio:\"), \" \", bio), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      className: \"location\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"Location:\")), React.createElement(\"p\", {\n      className: \"city-state\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }), \" \", city, \", \", state))), edit && this.editForm()), React.createElement(\"div\", {\n      className: \"post-cards-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, this.state.promiseReturned && this.postCard()), React.createElement(\"div\", {\n      className: \"non-friends\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, dlt && requested && React.createElement(Loader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"edit-profile-text\",\n      onClick: () => this.needEdit(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, \"Edit Profile\"), dlt && this.confirmDelete(), React.createElement(\"span\", {\n      onClick: this.preDelete,\n      className: dlt ? \"dont-show-delete\" : \"delete-profile-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, \"Delete Profile\")));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    post: state.post.posts,\n    user: state.users.username,\n    pic: state.users.picture,\n    id: state.users.id,\n    bio: state.users.bio,\n    email: state.users.email,\n    city: state.users.city,\n    state: state.users.state,\n    users: state.users.all,\n    name: state.users.usersObj,\n    requested: state.users.requested\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getPost,\n  changeLike,\n  deleteUser,\n  editUser\n})(Profile);\n{\n  /* <Col xs={6} md={4}>\n      <Image src=\"holder.js/171x180\" roundedCircle />\n    </Col> from https://react-bootstrap.github.io/components/images/ */\n}","map":{"version":3,"sources":["/Users/owner/Desktop/finalprojects/MyStagram/MyFront-end/src/Profile.js"],"names":["React","Component","Navbar","Button","Card","PostCard","Loader","connect","getPost","changeLike","deleteUser","editUser","placepic","ProfilePostCard","fileUploader","Profile","state","promiseReturned","likedPosts","comment","deleteAccountRequested","edit","username","handleLike","id","likes","props","includes","newArr","filter","pId","setState","postCard","post","user","pic","name","pathname","history","location","resultsArr","myPost","p","user_id","console","log","map","handleComment","e","target","value","preDelete","deleteProfile","localStorage","clear","then","push","confirmDelete","needEdit","handleEdit","editForm","bio","city","email","zip","fileInput","selectedFileHander","componentDidMount","token","render","requested","dlt","currentUser","className","mapStateToProps","posts","users","picture","all","usersObj"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Navbar, Button, Card } from \"react-bootstrap\";\nimport PostCard from \"./components/PostCard\";\nimport Loader from './components/loader';\nimport { connect } from 'react-redux';\nimport { getPost, changeLike } from './redux/actions/PostActions';\nimport { deleteUser, editUser } from './redux/actions/UserActions' \nimport './css/Profile.css';\n// import { storage } from 'firebase';\nimport placepic from './img/placeHolder.png';\nimport ProfilePostCard from './components/ProfilePostCard'\nimport fileUploader from './components/FileUploader'\n\nclass Profile extends Component {\n  state = {\n    promiseReturned: false,\n    likedPosts: [],\n    comment: \"\",\n    deleteAccountRequested: null,\n    edit:true,\n    editUser:{\n      username:\"\"\n    }\n\n  }\ncomponentDidMount() {\n\n  !localStorage.token && this.props.history.push('/')\n  const { getPost, post, changeLike } = this.props\n  getPost()\n\n  post && this.setState({ promiseReturned: true })\n  console.log(\"Promise \", this.state.promiseReturned)\n}\n\n  handleLike = (id, likes) => {\n    const { likedPosts } = this.state\n    const { changeLike } = this.props\n    if (likedPosts.includes(id)) {\n      changeLike(id, likes, '')\n      const newArr = likedPosts.filter(pId => pId !== id)\n      this.setState({ likedPosts: newArr })\n\n    }\n    else {\n      changeLike(id, likes, 'add')\n      const newArr = [...this.state.likedPosts, id]\n      this.setState({ likedPosts: newArr })\n    }\n\n  }\n\n  postCard = () => {\n    const { comment,edit } = this.state\n    const { post, user, id,pic,name } = this.props\n\n    const { pathname } = this.props.history.location\n    let resultsArr = []\n    const myPost = post.filter(p => p.user_id == id)\n    console.log(\"My Post\", myPost)\n    return myPost.map(p => <ProfilePostCard\n      post={p}\n      user={user}\n      name={name}\n      pic={pic}\n      id={id}\n      path={pathname}\n      handleComment={this.handleComment}\n      comment={comment}\n      handleLike={this.handleLike}\n      likedPosts={this.state.likedPosts}\n    />)\n\n\n  };\n\n  handleComment = (e) => {\n    this.setState({ [e.target.name]: e.target.value })\n  }\n  preDelete=()=>{\n    this.setState( {deleteAccountRequested: true } )\n  }\n  deleteProfile=(id)=>{\n    localStorage.clear()\n    const { deleteUser, history } = this.props\n    this.setState( {deleteAccountRequested: false } )\n    deleteUser(id)\n     .then(()=> {localStorage.clear()\n      history.push('/')\n     }\n     )\n  }\nconfirmDelete=()=>{\n  const {id,pic } = this.props\n  return <div className=\"confirm-delete-div\">\n    <p>Are you sure you want to delete your account?</p>\n    {pic && <><img src={pic} className=\"pic-in-delete-option\"/><br/></>}\n    <button className=\"yes-btn\" onClick={()=> this.deleteProfile(id)}>Yes</button>\n    <button className=\"no-btn\" onClick={()=> this.setState( { deleteAccountRequested:false } )}>No</button>\n  </div>\n}\nneedEdit =()=>{\n  this.setState({ edit: !this.state.edit})\n}\n\n\nhandleEdit=(e)=>{\n  const {editUser } = this.state\nthis.setState({ [editUser[e.target.name]]: e.target.value})\n}\neditForm =()=>{\n  const { history,pic,bio, state, user, city,email,zip,id} = this.props;\n  return  (<form className=\"edit-profile-form\">\n  <input value={user} type=\"text\" row=\"6\" cols =\"60\" onChange={this.handleEdit} name=\"username\" placeholder={user}/>\n      \n<input name=\"email\" value={this.state.editUser.email} onChange={this.handleEdit} placeholder={email} />\n<input name=\"city\" value={city} onChange={this.handleEdit} placeholder={city} />\n<input name=\"state\" value={state} onChange={this.handleEdit} placeholder={state} />\n<input name=\"zip\" value={zip} onChange={this.handleEdit} placeholder={zip} />\n            <br/>\n      <textarea value={bio} type=\"text\" onChange={this.handleEdit} name=\"bio\" placeholder={bio} className=\"edit-bio\"/>\n      <button onClick={this.fileInput}>add pic</button>\n      <input type=\"file\" hidden ref={fileInput => this.fileInput = fileInput} onChange={this.selectedFileHander} value={pic} name=\"picture\" onChange={this.handleEdit} placeholder={pic ? pic : placepic} />\n            \n    <input type=\"submit\" onClick={console.log(id)}/>\n    </form>)\n}\n\n\n\n\n  render() {\n\n    const { history,pic, city, bio, state, requested} = this.props;\n    const { deleteAccountRequested, edit} = this.state\n    const dlt = deleteAccountRequested\n    const user = localStorage.currentUser\n\n    // const { pathname } = this.props.history.location\n    // console.log(\"Pathname:\", pathname);\n    // this.props.history.location.pathname\n\n    console.log(\"Profile props:\", this.props)\n    return (\n      <div>\n       \n        <div class={dlt? \" parent delete-requested\" :\"parent\"}>\n\n          <div className=\"nav-div\">\n           <span className=\"user-gram\" onClick={() => history.push('/home')}>{user}'taGram </span> \n            <span className=\"camera\" id={this.state.id} onClick={() => history.push('/home')}> ðŸ“¸ </span>\n            <button\n              className=\"logout-btn\"\n              variant=\"outline-dark\"\n              onClick={() => this.props.history.push(\"/login\")}\n            >\n              logout\n                </button >\n            <span className=\"dots-edit-profile\" onClick={(e) => console.log(e.target.className)}>. . .</span>\n          </div>\n         \n          <div className=\"profile-section\">\n          { !edit &&\n            <> <h3 className=\"hi-im\"><strong>Hi I'm {user}</strong></h3>\n            <img src={pic} className=\"profile-pic\"/> \n      \n           \n            <div>\n          <p className=\"bio\"><strong>Bio:</strong> {bio}</p>\n          <p><strong className=\"location\">Location:</strong></p>\n          <p className=\"city-state\"><strong></strong> {city}, {state}</p>\n          \n          \n\n          </div>\n          </>\n          }\n            {edit && this.editForm()}\n            </div>\n           \n          \n\n          <div className=\"post-cards-div\">\n\n\n            {/* <ProfilePostCard  post={post} user={user} /> */}\n            {this.state.promiseReturned && this.postCard()}\n          </div>\n\n          <div className=\"non-friends\">\n            \n            </div>\n\n        </div>\n  \n      \n      <div>\n        {dlt && requested && <Loader/>}\n        <span className=\"edit-profile-text\" onClick={()=> this.needEdit()}>Edit Profile</span>\n      {dlt && this.confirmDelete()}\n      <span onClick={this.preDelete} className={dlt? \"dont-show-delete\" : \"delete-profile-text\"}>Delete Profile</span>\n      </div>\n      </div>\n\n\n\n\n    );\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    post: state.post.posts,\n    user: state.users.username,\n    pic: state.users.picture,\n    id: state.users.id,\n    bio: state.users.bio,\n    email: state.users.email,\n    city:state.users.city,\n    state:state.users.state,\n    users: state.users.all,\n    name: state.users.usersObj,\n    requested:state.users.requested\n  }\n}\nexport default connect(mapStateToProps, { getPost, changeLike, deleteUser, editUser  })(Profile)\n{\n  /* <Col xs={6} md={4}>\n      <Image src=\"holder.js/171x180\" roundedCircle />\n    </Col> from https://react-bootstrap.github.io/components/images/ */\n}\n"]},"metadata":{},"sourceType":"module"}