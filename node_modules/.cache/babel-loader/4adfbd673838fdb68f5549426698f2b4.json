{"ast":null,"code":"var _jsxFileName = \"/Users/owner/Desktop/finalprojects/MyStagram/MyFront-end/src/components/PostCard.js\";\nimport React from \"react\";\nimport { Card, Form, Button, Col, Image, Container } from \"react-bootstrap\";\nimport Jack from \"../img/jack.jpg\";\nimport '../css/PostCard.css';\nimport placeholder from '../img/placeHolder.png';\nimport { connect } from 'react-redux';\nimport { deleteFollow, createFollow } from '../redux/actions/FollowActions';\n\nconst PostCard = props => {\n  const commentor = () => {\n    var usersArr = [];\n\n    if (props.users !== undefined) {\n      const usersObj = props.users.forEach(user => usersArr.push({\n        [user.id]: user.username\n      }));\n      console.log(\"commentor:\", usersArr);\n      return usersArr;\n    }\n  };\n\n  commentor();\n  const post = props.post,\n        user = props.user;\n\n  const comment = () => {\n    const text = post.comments;\n\n    if (text) {\n      return text.map(t => {\n        // console.log(\"comments\", t)\n        return React.createElement(\"p\", {\n          className: \"li-style\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        }, React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        }, \":\"), t.content);\n      });\n    } else {\n      return React.createElement(\"h6\", {\n        style: {\n          color: \"light-grey\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, \"Be the first to comment\");\n    }\n  };\n\n  const activeComment = e => {\n    e.target.id === post.id.toString() && props.toggleCommentField();\n  };\n\n  const whichUser = () => {\n    return post.user.id !== props.userid ? post.user.username : user;\n  };\n\n  const clearCommentBox = e => {\n    const commentFieldStatus = props.commentFieldStatus,\n          resetComment = props.resetComment,\n          editCapStatus = props.editCapStatus,\n          getCapEditField = props.getCapEditField;\n\n    if (props.commentLen || commentFieldStatus) {\n      activeComment(e);\n      resetComment();\n    } else if (editCapStatus && e.target.id !== \"edit-caption-input\") {\n      return getCapEditField();\n    }\n  };\n\n  const editCapInput = cap => {\n    return React.createElement(\"input\", {\n      type: \"text\",\n      value: props.comment,\n      onChange: props.handleComment,\n      placeholder: \" \".concat(cap),\n      id: \"edit-caption-input\",\n      name: \"comment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    });\n  };\n\n  const areFriends = postuser => {\n    const follows = props.follows,\n          userid = props.userid,\n          deleteFollow = props.deleteFollow,\n          createFollow = props.createFollow;\n\n    if (follows && postuser !== userid) {\n      const theFollow = follows.find(follow => follow.followee_id === postuser && follow.follower_id === userid);\n\n      if (postuser === userid) {\n        return \"\";\n      } else if (theFollow) {\n        return React.createElement(\"button\", {\n          id: \"add-friend\",\n          onClick: () => deleteFollow(theFollow.id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, \" \\uD83E\\uDD1D\");\n      } else {\n        return React.createElement(\"button\", {\n          id: \"add-friend\",\n          onClick: () => {\n            createFollow(postuser, userid);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }, \" \\uD83E\\uDD1C\\uD83C\\uDFFD\\uD83D\\uDCA5\\uD83E\\uDD1B\\uD83C\\uDFFB\");\n      }\n    }\n  }; // console.log(\"Post card props\", props)\n\n\n  return React.createElement(\"div\", {\n    className: \"post-card-div\",\n    id: \"\".concat(post.id),\n    onClick: e => console.log(e.target.id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: post.id,\n    className: \"post-card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, areFriends(post.user_id), React.createElement(\"span\", {\n    className: \"name-span-style\",\n    onClick: () => {\n      console.log(post.user.id);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, post.user.username)), React.createElement(\"div\", {\n    className: \"img-div\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"image\",\n    src: post.picture || require('../img/placeHolder.png'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"comments-div\",\n    id: post.id,\n    onClick: e => clearCommentBox(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, props.liked ? React.createElement(\"span\", {\n    id: \"on-heart\",\n    onClick: () => props.addLike(post.id, post.likes),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, \"\\u2764\\uFE0F\") : React.createElement(\"span\", {\n    id: \"off-heart\",\n    onClick: () => props.addLike(post.id, post.likes),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, \"\\u2661\"), React.createElement(\"div\", {\n    id: \"comments-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    id: post.id,\n    className: \"pen\",\n    onClick: e => activeComment(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, props.commentFieldStatus ? \"ğŸ’¬\" : \"ğŸ–‹ \"), React.createElement(\"span\", {\n    id: \"likes\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, \"Likes: \", post.likes)), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"ul-style\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"post-caption\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    id: \"name-cap\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, \" \".concat(whichUser()), \" : \")), \" \", props.editCapStatus ? editCapInput(post.caption) : post.caption, \" \", props.editCapStatus ? React.createElement(\"span\", {\n    id: \"submit-cap-edit\",\n    onClick: () => props.submitCapEdit(post.id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, \"  \\u2B06\\uFE0F \") : React.createElement(\"span\", {\n    id: \"edit-caption\",\n    onClick: () => props.getCapEditField(post.id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, \"\\uD83D\\uDD8B\"), \" \"), comment()), props.commentFieldStatus ? React.createElement(\"input\", {\n    size: \"sm\",\n    type: \"text\",\n    name: \"comment\",\n    value: props.comment,\n    onChange: props.handleComment,\n    placeholder: \"comment\",\n    className: \"comment-input\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }) : React.createElement(React.Fragment, null, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  })), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }), props.commentLen > 0 && !props.editCapStatus && React.createElement(\"span\", {\n    onClick: props.submitComment,\n    id: \"post-span\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, \"\\u2B06\\uFE0F\"))));\n};\n\nconst mapStateToProps = state => {\n  return {\n    user: state.users.username,\n    userid: state.users.id,\n    follows: state.follows.follows,\n    users: state.users.all\n  };\n};\n\nexport default connect(mapStateToProps, {\n  deleteFollow,\n  createFollow\n})(PostCard);","map":{"version":3,"sources":["/Users/owner/Desktop/finalprojects/MyStagram/MyFront-end/src/components/PostCard.js"],"names":["React","Card","Form","Button","Col","Image","Container","Jack","placeholder","connect","deleteFollow","createFollow","PostCard","props","commentor","usersArr","users","undefined","usersObj","forEach","user","push","id","username","console","log","post","comment","text","comments","map","t","content","color","activeComment","e","target","toString","toggleCommentField","whichUser","userid","clearCommentBox","commentFieldStatus","resetComment","editCapStatus","getCapEditField","commentLen","editCapInput","cap","handleComment","areFriends","postuser","follows","theFollow","find","follow","followee_id","follower_id","user_id","picture","require","liked","addLike","likes","caption","submitCapEdit","submitComment","mapStateToProps","state","all"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,IAAf,EAAqBC,MAArB,EAA6BC,GAA7B,EAAkCC,KAAlC,EAAyCC,SAAzC,QAA0D,iBAA1D;AACA,OAAOC,IAAP,MAAiB,iBAAjB;AACA,OAAO,qBAAP;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,YAAT,EAAuBC,YAAvB,QAA2C,gCAA3C;;AAKA,MAAMC,QAAQ,GAAGC,KAAK,IAAI;AAIxB,QAAMC,SAAS,GAAG,MAAK;AACrB,QAAIC,QAAQ,GAAG,EAAf;;AACA,QAAIF,KAAK,CAACG,KAAN,KAAgBC,SAApB,EAA8B;AAC9B,YAAMC,QAAQ,GAAGL,KAAK,CAACG,KAAN,CAAYG,OAAZ,CAAoBC,IAAI,IAAIL,QAAQ,CAACM,IAAT,CAAc;AAAC,SAACD,IAAI,CAACE,EAAN,GAAWF,IAAI,CAACG;AAAjB,OAAd,CAA5B,CAAjB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAAyBV,QAAzB;AACD,aAAOA,QAAP;AAGE;AAEF,GAVD;;AAWAD,EAAAA,SAAS;AAfe,QAiBhBY,IAjBgB,GAiBDb,KAjBC,CAiBhBa,IAjBgB;AAAA,QAiBVN,IAjBU,GAiBDP,KAjBC,CAiBVO,IAjBU;;AAmBxB,QAAMO,OAAO,GAAG,MAAM;AAEpB,UAAMC,IAAI,GAAGF,IAAI,CAACG,QAAlB;;AACA,QAAID,IAAJ,EAAU;AACR,aAAOA,IAAI,CAACE,GAAL,CAASC,CAAC,IAAI;AACnB;AACA,eAAQ;AAAG,UAAA,SAAS,EAAC,UAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAxB,EAGEA,CAAC,CAACC,OAHJ,CAAR;AAID,OANM,CAAP;AAOD,KARD,MAQO;AACL,aAAO;AAAI,QAAA,KAAK,EAAE;AAAEC,UAAAA,KAAK,EAAE;AAAT,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAAP;AACD;AACF,GAdD;;AAgBA,QAAMC,aAAa,GAAIC,CAAD,IAAO;AAC3BA,IAAAA,CAAC,CAACC,MAAF,CAASd,EAAT,KAAgBI,IAAI,CAACJ,EAAL,CAAQe,QAAR,EAAhB,IAAsCxB,KAAK,CAACyB,kBAAN,EAAtC;AAED,GAHD;;AAIA,QAAMC,SAAS,GAAG,MAAM;AACtB,WAAOb,IAAI,CAACN,IAAL,CAAUE,EAAV,KAAiBT,KAAK,CAAC2B,MAAvB,GAAgCd,IAAI,CAACN,IAAL,CAAUG,QAA1C,GAAqDH,IAA5D;AACD,GAFD;;AAGA,QAAMqB,eAAe,GAAIN,CAAD,IAAO;AAAA,UACrBO,kBADqB,GACgD7B,KADhD,CACrB6B,kBADqB;AAAA,UACDC,YADC,GACgD9B,KADhD,CACD8B,YADC;AAAA,UACaC,aADb,GACgD/B,KADhD,CACa+B,aADb;AAAA,UAC4BC,eAD5B,GACgDhC,KADhD,CAC4BgC,eAD5B;;AAE7B,QAAIhC,KAAK,CAACiC,UAAN,IAAoBJ,kBAAxB,EAA4C;AAC1CR,MAAAA,aAAa,CAACC,CAAD,CAAb;AAAkBQ,MAAAA,YAAY;AAC/B,KAFD,MAGK,IAAIC,aAAa,IAAIT,CAAC,CAACC,MAAF,CAASd,EAAT,KAAgB,oBAArC,EAA2D;AAC9D,aAAOuB,eAAe,EAAtB;AACD;AACF,GARD;;AASA,QAAME,YAAY,GAAIC,GAAD,IAAS;AAE5B,WAAO;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,KAAK,EAAEnC,KAAK,CAACc,OAAhC;AAAyC,MAAA,QAAQ,EAAEd,KAAK,CAACoC,aAAzD;AAAwE,MAAA,WAAW,aAAMD,GAAN,CAAnF;AAAgG,MAAA,EAAE,EAAC,oBAAnG;AAAwH,MAAA,IAAI,EAAC,SAA7H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD,GAHD;;AAMA,QAAME,UAAU,GAAIC,QAAD,IAAc;AAAA,UAEvBC,OAFuB,GAEyBvC,KAFzB,CAEvBuC,OAFuB;AAAA,UAEdZ,MAFc,GAEyB3B,KAFzB,CAEd2B,MAFc;AAAA,UAEN9B,YAFM,GAEyBG,KAFzB,CAENH,YAFM;AAAA,UAEQC,YAFR,GAEyBE,KAFzB,CAEQF,YAFR;;AAG/B,QAAIyC,OAAO,IAAID,QAAQ,KAAKX,MAA5B,EAAoC;AAElC,YAAMa,SAAS,GAAGD,OAAO,CAACE,IAAR,CAAaC,MAAM,IAAIA,MAAM,CAACC,WAAP,KAAuBL,QAAvB,IAAmCI,MAAM,CAACE,WAAP,KAAuBjB,MAAjF,CAAlB;;AAEA,UAAIW,QAAQ,KAAKX,MAAjB,EAAyB;AACvB,eAAO,EAAP;AACD,OAFD,MAGK,IAAIa,SAAJ,EAAe;AAClB,eAAQ;AAAQ,UAAA,EAAE,EAAC,YAAX;AAAwB,UAAA,OAAO,EAAE,MAAM3C,YAAY,CAAC2C,SAAS,CAAC/B,EAAX,CAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAR;AACD,OAFI,MAGA;AACH,eAAO;AAAQ,UAAA,EAAE,EAAC,YAAX;AAAwB,UAAA,OAAO,EAAE,MAAM;AAAEX,YAAAA,YAAY,CAACwC,QAAD,EAAWX,MAAX,CAAZ;AAAgC,WAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2EAAP;AAGD;AAEF;AACF,GApBD,CAzDwB,CAkFxB;;;AAEA,SAEE;AAAK,IAAA,SAAS,EAAC,eAAf;AAA+B,IAAA,EAAE,YAAKd,IAAI,CAACJ,EAAV,CAAjC;AAAiD,IAAA,OAAO,EAAGa,CAAD,IAAOX,OAAO,CAACC,GAAR,CAAYU,CAAC,CAACC,MAAF,CAASd,EAArB,CAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,EAAE,EAAEI,IAAI,CAACJ,EAAd;AAAkB,IAAA,SAAS,EAAC,WAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMG4B,UAAU,CAACxB,IAAI,CAACgC,OAAN,CANb,EAWE;AAAM,IAAA,SAAS,EAAC,iBAAhB;AAAkC,IAAA,OAAO,EAAE,MAAM;AAAElC,MAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACN,IAAL,CAAUE,EAAtB;AAA2B,KAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAiFI,IAAI,CAACN,IAAL,CAAUG,QAA3F,CAXF,CADF,EAeE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAuB,IAAA,GAAG,EAAEG,IAAI,CAACiC,OAAL,IAAgBC,OAAO,CAAC,wBAAD,CAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAfF,EAqBE;AAAK,IAAA,SAAS,EAAC,cAAf;AAA8B,IAAA,EAAE,EAAElC,IAAI,CAACJ,EAAvC;AAA2C,IAAA,OAAO,EAAGa,CAAD,IAAOM,eAAe,CAACN,CAAD,CAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGtB,KAAK,CAACgD,KAAN,GAAc;AAAM,IAAA,EAAE,EAAC,UAAT;AAAoB,IAAA,OAAO,EAAE,MAAMhD,KAAK,CAACiD,OAAN,CAAcpC,IAAI,CAACJ,EAAnB,EAAuBI,IAAI,CAACqC,KAA5B,CAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAd,GAEC;AAAM,IAAA,EAAE,EAAC,WAAT;AAAqB,IAAA,OAAO,EAAE,MAAMlD,KAAK,CAACiD,OAAN,CAAcpC,IAAI,CAACJ,EAAnB,EAAuBI,IAAI,CAACqC,KAA5B,CAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,EAIE;AAAK,IAAA,EAAE,EAAC,iBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,EAAE,EAAErC,IAAI,CAACJ,EAAf;AAAmB,IAAA,SAAS,EAAC,KAA7B;AAAmC,IAAA,OAAO,EAAGa,CAAD,IAAOD,aAAa,CAACC,CAAD,CAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEtB,KAAK,CAAC6B,kBAAN,GAA2B,IAA3B,GAAkC,KADpC,CADF,EAGE;AAAM,IAAA,EAAE,EAAC,OAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAA0BhB,IAAI,CAACqC,KAA/B,CAHF,CAJF,EAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,EAWE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA4B;AAAM,IAAA,EAAE,EAAC,UAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAaxB,SAAS,EAAtB,SAApB,CAA5B,OAAgG1B,KAAK,CAAC+B,aAAN,GAAsBG,YAAY,CAACrB,IAAI,CAACsC,OAAN,CAAlC,GAAmDtC,IAAI,CAACsC,OAAxJ,OAAkKnD,KAAK,CAAC+B,aAAN,GAAsB;AAAM,IAAA,EAAE,EAAC,iBAAT;AAA2B,IAAA,OAAO,EAAE,MAAM/B,KAAK,CAACoD,aAAN,CAAoBvC,IAAI,CAACJ,EAAzB,CAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAtB,GAA6G;AAAM,IAAA,EAAE,EAAC,cAAT;AAAwB,IAAA,OAAO,EAAE,MAAMT,KAAK,CAACgC,eAAN,CAAsBnB,IAAI,CAACJ,EAA3B,CAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAA/Q,MADF,EAEGK,OAAO,EAFV,CAXF,EAeGd,KAAK,CAAC6B,kBAAN,GAA2B;AAC1B,IAAA,IAAI,EAAC,IADqB;AAE1B,IAAA,IAAI,EAAC,MAFqB;AAG1B,IAAA,IAAI,EAAC,SAHqB;AAI1B,IAAA,KAAK,EAAE7B,KAAK,CAACc,OAJa;AAK1B,IAAA,QAAQ,EAAEd,KAAK,CAACoC,aALU;AAM1B,IAAA,WAAW,EAAC,SANc;AAO1B,IAAA,SAAS,EAAC,eAPgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAA3B,GAQI,0CAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAF,CAvBP,EAwBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAxBF,EAwBQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAxBR,EAyBGpC,KAAK,CAACiC,UAAN,GAAmB,CAAnB,IAAwB,CAACjC,KAAK,CAAC+B,aAA/B,IAAgD;AAAM,IAAA,OAAO,EAAE/B,KAAK,CAACqD,aAArB;AAC/C,IAAA,EAAE,EAAC,WAD4C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAzBnD,CArBF,CADF,CAFF;AA2DD,CA/ID;;AAgJA,MAAMC,eAAe,GAAGC,KAAK,IAAI;AAC/B,SAAO;AACLhD,IAAAA,IAAI,EAAEgD,KAAK,CAACpD,KAAN,CAAYO,QADb;AAELiB,IAAAA,MAAM,EAAE4B,KAAK,CAACpD,KAAN,CAAYM,EAFf;AAGL8B,IAAAA,OAAO,EAAEgB,KAAK,CAAChB,OAAN,CAAcA,OAHlB;AAILpC,IAAAA,KAAK,EAAEoD,KAAK,CAACpD,KAAN,CAAYqD;AAJd,GAAP;AAOD,CARD;;AASA,eAAe5D,OAAO,CAAC0D,eAAD,EAAkB;AAAEzD,EAAAA,YAAF;AAAgBC,EAAAA;AAAhB,CAAlB,CAAP,CAAyDC,QAAzD,CAAf","sourcesContent":["import React from \"react\";\nimport { Card, Form, Button, Col, Image, Container } from \"react-bootstrap\";\nimport Jack from \"../img/jack.jpg\";\nimport '../css/PostCard.css';\nimport placeholder from '../img/placeHolder.png';\nimport { connect } from 'react-redux';\nimport { deleteFollow, createFollow } from '../redux/actions/FollowActions'\n\n\n\n\nconst PostCard = props => {\n\n\n\n  const commentor = () =>{\n    var usersArr = []\n    if (props.users !== undefined){\n    const usersObj = props.users.forEach(user => usersArr.push({[user.id]: user.username}))\n    console.log(\"commentor:\",usersArr)\n   return usersArr\n    \n   \n    }\n\n  }\n  commentor()\n\n  const { post, user } = props;\n\n  const comment = () => {\n\n    const text = post.comments;\n    if (text) {\n      return text.map(t => {\n        // console.log(\"comments\", t)\n        return (<p className='li-style'><strong>\n          {}\n          :\n        </strong>{t.content}</p>);\n      });\n    } else {\n      return <h6 style={{ color: \"light-grey\" }}>Be the first to comment</h6>;\n    }\n  };\n\n  const activeComment = (e) => {\n    e.target.id === post.id.toString() && props.toggleCommentField()\n\n  }\n  const whichUser = () => {\n    return post.user.id !== props.userid ? post.user.username : user\n  }\n  const clearCommentBox = (e) => {\n    const { commentFieldStatus, resetComment, editCapStatus, getCapEditField } = props\n    if (props.commentLen || commentFieldStatus) {\n      activeComment(e); resetComment()\n    }\n    else if (editCapStatus && e.target.id !== \"edit-caption-input\") {\n      return getCapEditField()\n    }\n  }\n  const editCapInput = (cap) => {\n\n    return <input type='text' value={props.comment} onChange={props.handleComment} placeholder={` ${cap}`} id=\"edit-caption-input\" name=\"comment\" />\n  }\n\n\n  const areFriends = (postuser) => {\n\n    const { follows, userid, deleteFollow, createFollow } = props\n    if (follows && postuser !== userid) {\n\n      const theFollow = follows.find(follow => follow.followee_id === postuser && follow.follower_id === userid);\n\n      if (postuser === userid) {\n        return \"\"\n      }\n      else if (theFollow) {\n        return (<button id=\"add-friend\" onClick={() => deleteFollow(theFollow.id)}> ğŸ¤</button>)\n      }\n      else {\n        return <button id=\"add-friend\" onClick={() => { createFollow(postuser, userid) }}\n\n        > ğŸ¤œğŸ½ğŸ’¥ğŸ¤›ğŸ»</button>\n      }\n\n    }\n  }\n\n\n  \n\n  // console.log(\"Post card props\", props)\n\n  return (\n\n    <div className=\"post-card-div\" id={`${post.id}`} onClick={(e) => console.log(e.target.id)}>\n      <div id={post.id} className=\"post-card\">\n        <div className=\"card-header\">\n          {/* REPLACE WITH THE IMAGE ASSOCIATED WITH NAME\n        <img\n          className=\"post-thumbnail\"\n          src={require(\"../img/jack.jpg\")}\n        />  */}\n          {areFriends(post.user_id)}\n          {/* <button id=\"add-friend\" onClick={() => { console.log(post.user.id) }}\n\n          > ğŸ¤œğŸ½ğŸ’¥ğŸ¤›ğŸ»</button> */}\n\n          <span className=\"name-span-style\" onClick={() => { console.log(post.user.id) }}>{post.user.username}</span>\n        </div>\n\n        <div className=\"img-div\">\n          <img className=\"image\" src={post.picture || require('../img/placeHolder.png')} />\n        </div>\n\n\n\n        <div className=\"comments-div\" id={post.id} onClick={(e) => clearCommentBox(e)}>\n          {props.liked ? <span id=\"on-heart\" onClick={() => props.addLike(post.id, post.likes)}>â¤ï¸</span>\n            :\n            <span id=\"off-heart\" onClick={() => props.addLike(post.id, post.likes)}>â™¡</span>}\n          <div id='comments-header'>\n            <span id={post.id} className=\"pen\" onClick={(e) => activeComment(e)}\n            >{props.commentFieldStatus ? \"ğŸ’¬\" : \"ğŸ–‹ \"}</span>\n            <span id=\"likes\" >Likes: {post.likes}</span>\n\n          </div>\n          <br />\n          <div className='ul-style'>\n            <p className='post-caption'><span id=\"name-cap\"><strong>{` ${whichUser()}`} : </strong></span> {props.editCapStatus ? editCapInput(post.caption) : post.caption} {props.editCapStatus ? <span id=\"submit-cap-edit\" onClick={() => props.submitCapEdit(post.id)}>  â¬†ï¸ </span> : <span id=\"edit-caption\" onClick={() => props.getCapEditField(post.id)}>ğŸ–‹</span>} </p>\n            {comment()}\n          </div>\n          {props.commentFieldStatus ? <input\n            size=\"sm\"\n            type=\"text\"\n            name=\"comment\"\n            value={props.comment}\n            onChange={props.handleComment}\n            placeholder=\"comment\"\n            className=\"comment-input\"\n          /> : <><br /></>}\n          <br /><br />\n          {props.commentLen > 0 && !props.editCapStatus && <span onClick={props.submitComment}\n            id=\"post-span\">\n            â¬†ï¸\n      </span>}\n        </div>\n\n      </div>\n\n    </div>\n  );\n};\nconst mapStateToProps = state => {\n  return {\n    user: state.users.username,\n    userid: state.users.id,\n    follows: state.follows.follows,\n    users: state.users.all\n\n  }\n}\nexport default connect(mapStateToProps, { deleteFollow, createFollow })(PostCard);\n"]},"metadata":{},"sourceType":"module"}