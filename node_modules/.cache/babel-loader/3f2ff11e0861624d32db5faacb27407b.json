{"ast":null,"code":"var _jsxFileName = \"/Users/owner/Desktop/FlatIron/Mod_4/Project/MyStagram/MyFront-end/src/components/NewPostCard.js\";\nimport React from \"react\";\nimport '../css/newPostCard.css';\nimport { storage } from '../firebase';\nimport Loader from '../components/loader'; //  SET UP FETCH POST FOR NEW POST AND CREATE MIGRATTION FOR CAPTION FOR POST AND SET UP TO GO BACK THE HOME PAGE AFTER POST IS FINISHED POSTING\n\nclass NewPostCard extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      image: null,\n      url: \"\",\n      caption: \"\",\n      loading: false\n    };\n\n    this.selectedFileHander = e => {\n      if (e.target.files[0]) {\n        this.setState({\n          image: e.target.files[0]\n        });\n      }\n\n      ;\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const image = this.state.image;\n      const uploadTask = storage.ref(\"images/\".concat(image.name)).put(image);\n      uploadTask.on('state_change', snapshot => {\n        this.setState({\n          loading: true\n        });\n      }, err => {\n        console.error(err);\n      }, () => {\n        storage;\n      }); //  this.props.submitPost(this.state.caption)\n      //[funcName].on(progress, error, complete) these are the task for the arguments that '.on()' takes\n    };\n\n    this.handleTextChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n  }\n\n  render() {\n    console.log(\"NewPost Card props:\", this.props, \"New card State\", this.state);\n    const _this$props = this.props,\n          handleNewPost = _this$props.handleNewPost,\n          state = _this$props.state,\n          submitPost = _this$props.submitPost,\n          userId = _this$props.userId;\n    return React.createElement(React.Fragment, null, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }), this.state.loading ? React.createElement(Loader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }) : React.createElement(\"p\", {\n      className: \"new-post-heading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"Make New Post\"), React.createElement(\"div\", {\n      className: \"the-card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.selectedFileHander,\n      style: {\n        display: \"none\"\n      },\n      ref: fileInput => this.fileInput = fileInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"img-box\",\n      onClick: () => this.fileInput.click(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: require(\"../img/pic_placeholder.png\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      className: \"post-text-area\",\n      rows: \"5\",\n      cols: \"30\",\n      placeholder: \"#litty #\\uD83D\\uDD25 last night was mad trill\",\n      style: {\n        color: \"light-blue\"\n      },\n      name: \"caption\",\n      value: this.state.caption,\n      onChange: this.handleTextChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      onClick: this.handleSubmit,\n      id: \"post-submit-plus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"\\u271A\")));\n  }\n\n}\n\nexport default NewPostCard;","map":{"version":3,"sources":["/Users/owner/Desktop/FlatIron/Mod_4/Project/MyStagram/MyFront-end/src/components/NewPostCard.js"],"names":["React","storage","Loader","NewPostCard","Component","state","image","url","caption","loading","selectedFileHander","e","target","files","setState","handleSubmit","preventDefault","uploadTask","ref","name","put","on","snapshot","err","console","error","handleTextChange","value","render","log","props","handleNewPost","submitPost","userId","display","fileInput","click","require","color"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport '../css/newPostCard.css';\nimport { storage } from '../firebase';\nimport Loader from '../components/loader'\n\n\n\n\n//  SET UP FETCH POST FOR NEW POST AND CREATE MIGRATTION FOR CAPTION FOR POST AND SET UP TO GO BACK THE HOME PAGE AFTER POST IS FINISHED POSTING\n\nclass NewPostCard extends React.Component {\n\n  state = {\n    image: null,\n    url: \"\",\n    caption: \"\",\n    loading: false\n  }\n\n  selectedFileHander = (e) => {\n    if (e.target.files[0]) { this.setState({ image: e.target.files[0] }) };\n\n  }\n  handleSubmit = (e) => {\n    e.preventDefault()\n    const { image } = this.state;\n    const uploadTask = storage.ref(`images/${image.name}`).put(image);\n    uploadTask.on('state_change', (snapshot)=> {\n            this.setState({loading: true})\n    },\n    (err) =>{\n      console.error(err);\n      \n    },\n    ()=>{\n        storage\n    })\n\n    //  this.props.submitPost(this.state.caption)\n    //[funcName].on(progress, error, complete) these are the task for the arguments that '.on()' takes\n  }\n  handleTextChange = e => {\n    this.setState({ [e.target.name]: e.target.value })\n  }\n  render() {\n    console.log(\"NewPost Card props:\", this.props, \"New card State\", this.state);\n    const { handleNewPost, state, submitPost, userId } = this.props;\n    return (\n      <><br />{this.state.loading ? <Loader/> : <p className=\"new-post-heading\">Make New Post</p>}\n           <div className=\"the-card\">\n\n          <input type=\"file\" onChange={this.selectedFileHander} style={{ display: \"none\" }} ref={fileInput => this.fileInput = fileInput} />\n          <div className=\"img-box\" onClick={() => this.fileInput.click()}>\n\n            <img src={require(\"../img/pic_placeholder.png\")} />\n          </div>\n\n          <div>\n            <textarea className=\"post-text-area\" rows=\"5\" cols=\"30\" placeholder=\"#litty #ðŸ”¥ last night was mad trill\" style={{ color: \"light-blue\" }} name=\"caption\" value={this.state.caption} onChange={this.handleTextChange}></textarea>\n\n            <span></span>\n          </div>\n          <span onClick={this.handleSubmit} id=\"post-submit-plus\">\n            âœš\n          </span>\n\n\n    </div> \n      </>\n    );\n  }\n}\nexport default NewPostCard;\n"]},"metadata":{},"sourceType":"module"}