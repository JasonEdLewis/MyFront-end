{"ast":null,"code":"import _defineProperty from\"/Users/owner/Desktop/finalprojects/MyStagram/MyFront-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/owner/Desktop/finalprojects/MyStagram/MyFront-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/owner/Desktop/finalprojects/MyStagram/MyFront-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/owner/Desktop/finalprojects/MyStagram/MyFront-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/owner/Desktop/finalprojects/MyStagram/MyFront-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/owner/Desktop/finalprojects/MyStagram/MyFront-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import LoginForm from'./components/LoginForm';import'./css/Login.css';import{Form,Navbar,Button}from\"react-bootstrap\";import{connect}from'react-redux';import{fetchLogin}from'./redux/actions/LoginActions';import{fetchUser}from'./redux/actions/UserActions';import Loader from'./components/loader';// import Vid from './img/caliSkaters.mp4';\n{}/* <Spinner animation=\"grow\" variant=\"info\" /> */ // Where I got the components from : https://react-bootstrap.github.io/components/alerts/\nvar Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);function Login(){var _getPrototypeOf2;var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Login)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={username:\"\",password:\"\",errorMessage:\"Please enter valid username & or password\",showError:false};_this.handleChage=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleSubmit=function(e){var _this$props=_this.props,fetchLogin=_this$props.fetchLogin,login=_this$props.login,history=_this$props.history,fetchUser=_this$props.fetchUser;e.preventDefault();fetchLogin(_this.state).then(function(){if(localStorage.token){fetchUser(localStorage.token).then(function(){localStorage.currentUser&&localStorage.token&&history.push('/home');});}else{_this.setState({showError:true});}});_this.setState({username:'',password:\"\"});};return _this;}_createClass(Login,[{key:\"componentDidMount\",value:function componentDidMount(){localStorage.clear();}},{key:\"render\",value:function render(){var login=this.props.login;var _this$state=this.state,showError=_this$state.showError,errorMessage=_this$state.errorMessage;console.log(\"Login props\",this.props);return(//  <div className=\"video-div\">\n//   <video  id=\"myVideo\" loop autoplay >\n//   <source src=\"http://www.sample-videos.com/video/mp4/720/big_buck_bunny_720p_1mb.mp4\" type=\"video/mp4\" />\n//       {/* <source src={ Vid } type=\"video/mp4\"/> */}\n//     </video>\n//  </div>\nReact.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"signindiv\"},React.createElement(\"div\",{className:\"header-div\"},React.createElement(\"span\",{className:\"sign-in-header\"},\"Jays'taGram\")),React.createElement(\"div\",null,React.createElement(\"img\",{src:\"https://www.jing.fm/clipimg/full/90-902599_camera-icons-transparent-background-ios-camera-logo-png.png\",className:\"camera-logo\"})),React.createElement(Form,{className:\"signInForm\",onSubmit:this.handleSubmit},React.createElement(Form.Group,{controlId:\"formGroupEmail\"},React.createElement(Form.Label,{alt:\"username-field\"}),React.createElement(Form.Control,{type:\"text\",value:this.state.username,placeholder:\"Username\",name:\"username\",onChange:this.handleChage,required:true,id:showError&&\"Wrong-user-input\"})),React.createElement(Form.Group,{controlId:\"formGroupPassword\"},React.createElement(Form.Label,{alt:\"password-field\"},React.createElement(\"p\",{id:\"error-message\"},showError&&errorMessage)),React.createElement(Form.Control,{type:\"password\",name:\"password\",value:this.state.password,onChange:this.handleChage,placeholder:\"Password\",id:showError&&\"Wrong-user-input\",required:true})),!!login.requested&&localStorage.token?React.createElement(Loader,null):React.createElement(React.Fragment,null,React.createElement(Button,{variant:\"primary\",type:\"submit\",className:\"submit-btn\"},\"Login\"),React.createElement(\"p\",{className:\"stars-under-signup\"},\"\\xBA \\xBA \\xBA \\xBA \\xBA   \"),React.createElement(\"a\",{href:\"/signup\",className:\"signup-text\"},\"signup\",\" \"),\" \")))));}}]);return Login;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{login:state.login};};export default connect(mapStateToProps,{fetchLogin:fetchLogin,fetchUser:fetchUser})(Login);","map":{"version":3,"sources":["/Users/owner/Desktop/finalprojects/MyStagram/MyFront-end/src/Login.js"],"names":["React","LoginForm","Form","Navbar","Button","connect","fetchLogin","fetchUser","Loader","Login","state","username","password","errorMessage","showError","handleChage","e","setState","target","name","value","handleSubmit","props","login","history","preventDefault","then","localStorage","token","currentUser","push","clear","console","log","requested","Component","mapStateToProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport LoginForm from './components/LoginForm';\nimport './css/Login.css';\nimport { Form, Navbar, Button } from \"react-bootstrap\";\nimport { connect } from 'react-redux';\nimport { fetchLogin } from './redux/actions/LoginActions';\nimport { fetchUser } from './redux/actions/UserActions';\nimport Loader from './components/loader'\n// import Vid from './img/caliSkaters.mp4';\n\n{\n  /* <Spinner animation=\"grow\" variant=\"info\" /> */\n}\n// Where I got the components from : https://react-bootstrap.github.io/components/alerts/\n\nclass Login extends React.Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    errorMessage: `Please enter valid username & or password`,\n    showError: false,\n  };\n\n\n  componentDidMount() {\n    localStorage.clear()\n  }\n  handleChage = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\n\n  handleSubmit = e => {\n    const { fetchLogin, login, history, fetchUser } = this.props\n    e.preventDefault();\n    fetchLogin(this.state).then(() => {\n      if (localStorage.token) {\n        fetchUser(localStorage.token)\n          .then(() => {\n\n            localStorage.currentUser && localStorage.token && history.push('/home')\n          }\n          )\n      }\n      else {\n        this.setState({ showError: true })\n      }\n\n\n    }\n    )\n\n    this.setState({ username: '', password: \"\" })\n  };\n\n\n\n  render() {\n    const { login } = this.props\n    const { showError, errorMessage } = this.state\n\n    console.log(\"Login props\", this.props)\n    return (\n      //  <div className=\"video-div\">\n      //   <video  id=\"myVideo\" loop autoplay >\n      //   <source src=\"http://www.sample-videos.com/video/mp4/720/big_buck_bunny_720p_1mb.mp4\" type=\"video/mp4\" />\n      //       {/* <source src={ Vid } type=\"video/mp4\"/> */}\n      //     </video>\n      //  </div>\n      <>\n        <div className=\"signindiv\">\n\n          <div className=\"header-div\">\n            <span className=\"sign-in-header\" >Jays'taGram</span>\n          </div>\n\n          <div>\n            <img\n              src=\"https://www.jing.fm/clipimg/full/90-902599_camera-icons-transparent-background-ios-camera-logo-png.png\"\n              className=\"camera-logo\"\n            />\n          </div>\n          <Form className='signInForm' onSubmit={this.handleSubmit}>\n            <Form.Group controlId=\"formGroupEmail\">\n              <Form.Label alt=\"username-field\"></Form.Label>\n              <Form.Control\n                type=\"text\"\n                value={this.state.username}\n                placeholder=\"Username\"\n                name=\"username\"\n                onChange={this.handleChage}\n                required\n                id={showError && \"Wrong-user-input\"}\n              />\n            </Form.Group>\n            <Form.Group controlId=\"formGroupPassword\">\n              <Form.Label alt=\"password-field\"><p id=\"error-message\">{showError && errorMessage}</p></Form.Label>\n              <Form.Control\n                type=\"password\"\n                name=\"password\"\n                value={this.state.password}\n                onChange={this.handleChage}\n                placeholder=\"Password\"\n                id={showError && \"Wrong-user-input\"}\n                required\n              />\n\n            </Form.Group>\n            {!!login.requested && localStorage.token ? <Loader /> : <><Button variant=\"primary\" type=\"submit\" className=\"submit-btn\">\n              Login\n  </Button>\n              <p className=\"stars-under-signup\">º º º º º   </p>\n              <a href=\"/signup\" className=\"signup-text\">\n                signup{\" \"}\n              </a> </>}\n          </Form>\n        </div>\n      </>\n    );\n  }\n\n}\nconst mapStateToProps = (state) => {\n  return {\n    login: state.login\n  }\n}\n\n\nexport default connect(mapStateToProps, { fetchLogin, fetchUser })(Login);\n\n"]},"metadata":{},"sourceType":"module"}