{"ast":null,"code":"import _objectDestructuringEmpty from\"/Users/owner/Desktop/finalprojects/MyStagram/MyFront-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty\";import _regeneratorRuntime from\"/Users/owner/Desktop/finalprojects/MyStagram/MyFront-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _defineProperty from\"/Users/owner/Desktop/finalprojects/MyStagram/MyFront-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/owner/Desktop/finalprojects/MyStagram/MyFront-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/owner/Desktop/finalprojects/MyStagram/MyFront-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/owner/Desktop/finalprojects/MyStagram/MyFront-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/owner/Desktop/finalprojects/MyStagram/MyFront-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/owner/Desktop/finalprojects/MyStagram/MyFront-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import{Form,Col,Button,Row}from\"react-bootstrap\";import\"./css/Signup.css\";import{storage}from'./firebase/index';import Loader from'./components/loader';import{connect}from'react-redux';import{newUser,fetchUser}from'./redux/actions/UserActions';var Signup=/*#__PURE__*/function(_React$Component){_inherits(Signup,_React$Component);function Signup(){var _getPrototypeOf2;var _this;_classCallCheck(this,Signup);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Signup)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={file:\"\",username:\"\",password:\"\",picture:\"\",bio:\"\",email:\"\",city:\"\",state:\"\",zip:\"\"};_this.handleChange=function(e){console.log(e.target.name,\":\",e.target.value);_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.submitNewUser=function _callee(){var _this$props,newUser,fetchUser;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props=_this.props,newUser=_this$props.newUser,fetchUser=_this$props.fetchUser;newUser(_this.state).then(function(user){var token=user.payload.token;// debugger\nif(token){localStorage.setItem(\"token\",token);fetchUser(token).then(function(){return _this.props.history.push(\"/home\");});}else{_this.props.history.push(\"/\");console.log(\"New User Token : \",localStorage.token);}});case 2:case\"end\":return _context.stop();}}});};_this.handleSubmit=function(e){var _this$state=_this.state,username=_this$state.username,password=_this$state.password,picture=_this$state.picture,bio=_this$state.bio,email=_this$state.email,city=_this$state.city,state=_this$state.state,zip=_this$state.zip;_objectDestructuringEmpty(_this.props);e.preventDefault();return _this.submitNewUser();};_this.selectedFileHander=function(e){var image=e.target.files[0];if(image){var uploadTask=storage.ref(\"images/\".concat(image.name)).put(image);uploadTask.on('state_changed',function(snapshot){},function(error){console.log(error);},function(){storage.ref('images').child(image.name).getDownloadURL().then(function(url){_this.setState({picture:url});});});};};return _this;}_createClass(Signup,[{key:\"render\",value:function render(){var _this2=this;console.log(\"Signup Props:\",this.props);var _this$state2=this.state,username=_this$state2.username,password=_this$state2.password,file=_this$state2.file,bio=_this$state2.bio,email=_this$state2.email,city=_this$state2.city,state=_this$state2.state,zip=_this$state2.zip;return React.createElement(\"div\",{className:\"form\"},React.createElement(\"span\",null,React.createElement(\"h3\",{className:\"sign-up-logo\"},\"Jays'taGram \")),React.createElement(\"div\",null,React.createElement(Form,null,React.createElement(Form.Row,null,React.createElement(Form.Group,{as:Col},React.createElement(Form.Label,null,\"Choose a Username\"),React.createElement(Form.Control,{type:\"text\",name:\"username\",placeholder:\"Enter Name\",value:username,onChange:this.handleChange})),React.createElement(Form.Group,{as:Col},React.createElement(Form.Label,null,\"Password\"),React.createElement(Form.Control,{type:\"password\",placeholder:\"*&*^W%^#\",name:\"password\",value:password,onChange:this.handleChange}))),React.createElement(Form.Group,null,React.createElement(Form.Label,null,\"Email\"),React.createElement(Form.Control,{placeholder:\"\",name:\"email\",value:email,type:\"email\",onChange:this.handleChange})),this.props.requesting&&React.createElement(Loader,null),React.createElement(Form.Group,null,React.createElement(Form.Label,null,\"Describe Yourself\"),React.createElement(Form.Control,{placeholder:\"What do you like to do...?\",value:bio,name:\"bio\",onChange:this.handleChange})),React.createElement(Form.Row,null,React.createElement(Form.Group,{as:Col},React.createElement(Form.Label,null,\"City\"),React.createElement(Form.Control,{name:\"city\",value:city,onChange:this.handleChange})),React.createElement(Form.Group,{as:Col,controlId:\"formGridState\"},React.createElement(Form.Label,null,\"State\"),React.createElement(Form.Control,{as:\"select\",name:\"state\",onChange:this.handleChange},React.createElement(\"option\",null,\"Choose...\"),React.createElement(\"option\",{value:\"AL\"},\"Alabama\"),React.createElement(\"option\",{value:\"AK\"},\"Alaska\"),React.createElement(\"option\",{value:\"AZ\"},\"Arizona\"),React.createElement(\"option\",{value:\"AR\"},\"Arkansas\"),React.createElement(\"option\",{value:\"CA\"},\"California\"),React.createElement(\"option\",{value:\"CO\"},\"Colorado\"),React.createElement(\"option\",{value:\"CT\"},\"Connecticut\"),React.createElement(\"option\",{value:\"DE\"},\"Delaware\"),React.createElement(\"option\",{value:\"DC\"},\"District Of Columbia\"),React.createElement(\"option\",{value:\"FL\"},\"Florida\"),React.createElement(\"option\",{value:\"GA\"},\"Georgia\"),React.createElement(\"option\",{value:\"HI\"},\"Hawaii\"),React.createElement(\"option\",{value:\"ID\"},\"Idaho\"),React.createElement(\"option\",{value:\"IL\"},\"Illinois\"),React.createElement(\"option\",{value:\"IN\"},\"Indiana\"),React.createElement(\"option\",{value:\"IA\"},\"Iowa\"),React.createElement(\"option\",{value:\"KS\"},\"Kansas\"),React.createElement(\"option\",{value:\"KY\"},\"Kentucky\"),React.createElement(\"option\",{value:\"LA\"},\"Louisiana\"),React.createElement(\"option\",{value:\"ME\"},\"Maine\"),React.createElement(\"option\",{value:\"MD\"},\"Maryland\"),React.createElement(\"option\",{value:\"MA\"},\"Massachusetts\"),React.createElement(\"option\",{value:\"MI\"},\"Michigan\"),React.createElement(\"option\",{value:\"MN\"},\"Minnesota\"),React.createElement(\"option\",{value:\"MS\"},\"Mississippi\"),React.createElement(\"option\",{value:\"MO\"},\"Missouri\"),React.createElement(\"option\",{value:\"MT\"},\"Montana\"),React.createElement(\"option\",{value:\"NE\"},\"Nebraska\"),React.createElement(\"option\",{value:\"NV\"},\"Nevada\"),React.createElement(\"option\",{value:\"NH\"},\"New Hampshire\"),React.createElement(\"option\",{value:\"NJ\"},\"New Jersey\"),React.createElement(\"option\",{value:\"NM\"},\"New Mexico\"),React.createElement(\"option\",{value:\"NY\"},\"New York\"),React.createElement(\"option\",{value:\"NC\"},\"North Carolina\"),React.createElement(\"option\",{value:\"ND\"},\"North Dakota\"),React.createElement(\"option\",{value:\"OH\"},\"Ohio\"),React.createElement(\"option\",{value:\"OK\"},\"Oklahoma\"),React.createElement(\"option\",{value:\"OR\"},\"Oregon\"),React.createElement(\"option\",{value:\"PA\"},\"Pennsylvania\"),React.createElement(\"option\",{value:\"RI\"},\"Rhode Island\"),React.createElement(\"option\",{value:\"SC\"},\"South Carolina\"),React.createElement(\"option\",{value:\"SD\"},\"South Dakota\"),React.createElement(\"option\",{value:\"TN\"},\"Tennessee\"),React.createElement(\"option\",{value:\"TX\"},\"Texas\"),React.createElement(\"option\",{value:\"UT\"},\"Utah\"),React.createElement(\"option\",{value:\"VT\"},\"Vermont\"),React.createElement(\"option\",{value:\"VA\"},\"Virginia\"),React.createElement(\"option\",{value:\"WA\"},\"Washington\"),React.createElement(\"option\",{value:\"WV\"},\"West Virginia\"),React.createElement(\"option\",{value:\"WI\"},\"Wisconsin\"),React.createElement(\"option\",{value:\"WY\"},\"Wyoming\"))),React.createElement(Form.Group,{as:Col,controlId:\"formGridZip\"},React.createElement(Form.Label,null,\"Zip\"),React.createElement(Form.Control,{name:\"zip\",type:\"text\",value:zip,onChange:this.handleChange}))),React.createElement(Button,{variant:\"primary\",type:\"submit\",onClick:this.handleSubmit},\"Submit\"),React.createElement(\"input\",{type:\"file\",hidden:true,ref:function ref(fileInput){return _this2.fileInput=fileInput;},onChange:this.selectedFileHander,name:\"file\"}),React.createElement(Button,{variant:\"info\",inputType:\"file\",onClick:function onClick(){return _this2.fileInput.click();},className:\"pic-upload\"},\"Photo\"),React.createElement(Button,{variant:\"secondary\",type:\"submit\",onClick:function onClick(){return _this2.props.history.push('/');},className:\"cancel-btn\"},\"Cancel\"))));}}]);return Signup;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{requesting:state.users.requested};};export default connect(null,{newUser:newUser,fetchUser:fetchUser})(Signup);","map":{"version":3,"sources":["/Users/owner/Desktop/finalprojects/MyStagram/MyFront-end/src/Signup.js"],"names":["React","Form","Col","Button","Row","storage","Loader","connect","newUser","fetchUser","Signup","state","file","username","password","picture","bio","email","city","zip","handleChange","e","console","log","target","name","value","setState","submitNewUser","props","then","user","token","payload","localStorage","setItem","history","push","handleSubmit","preventDefault","selectedFileHander","image","files","uploadTask","ref","put","on","snapshot","error","child","getDownloadURL","url","requesting","fileInput","click","Component","mapStateToProps","users","requested"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Form, Col, Button, Row } from \"react-bootstrap\";\nimport \"./css/Signup.css\";\nimport { storage } from './firebase/index';\nimport Loader from './components/loader';\nimport { connect } from 'react-redux';\nimport { newUser, fetchUser } from './redux/actions/UserActions'\n\nclass Signup extends React.Component {\n  // FROM API username, password, picture: URL ,bio,email,city,state,zip: INTEGER\n  state = {\n    file: \"\",\n    username: \"\",\n    password: \"\",\n    picture: \"\",\n    bio: \"\",\n    email: \"\",\n    city: \"\",\n    state: \"\",\n    zip: \"\",\n  };\n\n  handleChange = e => {\n    console.log(e.target.name, \":\", e.target.value);\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\n\n  submitNewUser = async () => {\n    const { newUser, fetchUser } = this.props\n    newUser(this.state)\n      .then(user => {\n        const token = user.payload.token\n        // debugger\n        if (token) {\n          localStorage.setItem(\"token\", token)\n          fetchUser(token)\n            .then(() => this.props.history.push(\"/home\")\n            )\n        }\n        else {\n          this.props.history.push(\"/\");\n\n          console.log(\"New User Token : \", localStorage.token);\n        }\n      }\n      )\n  };\n\n  handleSubmit = e => {\n    const { username, password, picture, bio, email, city, state, zip } = this.state\n    const { } = this.props\n    e.preventDefault();\n    return this.submitNewUser();\n  };\n  selectedFileHander = (e) => {\n    const image = e.target.files[0]\n    if (image) {\n      const uploadTask = storage.ref(`images/${image.name}`).put(image);\n\n      uploadTask.on('state_changed', (snapshot) => {\n\n      },\n        (error) => {\n          console.log(error);\n\n        },\n        () => {\n          storage.ref('images').child(image.name).getDownloadURL().then(url => {\n            this.setState({ picture: url })\n\n          })\n        })\n\n    };\n\n  }\n\n\n\n  render() {\n    console.log(\"Signup Props:\", this.props);\n    const { username, password, file, bio, email, city, state, zip } = this.state\n    return (\n      <div className=\"form\">\n        <span><h3 className=\"sign-up-logo\">Jays'taGram </h3></span>\n        <div >\n          <Form>\n            <Form.Row>\n              <Form.Group as={Col}>\n                <Form.Label>Choose a Username</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  name=\"username\"\n                  placeholder=\"Enter Name\"\n                  value={username}\n                  onChange={this.handleChange}\n                />\n              </Form.Group>\n\n              <Form.Group as={Col}>\n                <Form.Label>Password</Form.Label>\n                <Form.Control\n                  type=\"password\"\n                  placeholder=\"*&*^W%^#\"\n                  name=\"password\"\n                  value={password}\n                  onChange={this.handleChange}\n                />\n              </Form.Group>\n            </Form.Row>\n\n            <Form.Group>\n              <Form.Label>Email</Form.Label>\n              <Form.Control placeholder=\"\" name=\"email\" value={email} type=\"email\" onChange={this.handleChange} />\n            </Form.Group>\n            {this.props.requesting && <Loader />}\n            <Form.Group>\n              <Form.Label>Describe Yourself</Form.Label>\n              <Form.Control\n                placeholder=\"What do you like to do...?\"\n                value={bio}\n                name=\"bio\"\n                onChange={this.handleChange}\n              />\n            </Form.Group>\n\n            <Form.Row>\n              <Form.Group as={Col}>\n                <Form.Label>City</Form.Label>\n                <Form.Control name=\"city\" value={city} onChange={this.handleChange} />\n              </Form.Group>\n\n              <Form.Group as={Col} controlId=\"formGridState\">\n                <Form.Label>State</Form.Label>\n                <Form.Control as=\"select\" name=\"state\" onChange={this.handleChange}>\n                  <option>Choose...</option>\n                  <option value=\"AL\">Alabama</option>\n                  <option value=\"AK\">Alaska</option>\n                  <option value=\"AZ\">Arizona</option>\n                  <option value=\"AR\">Arkansas</option>\n                  <option value=\"CA\">California</option>\n                  <option value=\"CO\">Colorado</option>\n                  <option value=\"CT\">Connecticut</option>\n                  <option value=\"DE\">Delaware</option>\n                  <option value=\"DC\">District Of Columbia</option>\n                  <option value=\"FL\">Florida</option>\n                  <option value=\"GA\">Georgia</option>\n                  <option value=\"HI\">Hawaii</option>\n                  <option value=\"ID\">Idaho</option>\n                  <option value=\"IL\">Illinois</option>\n                  <option value=\"IN\">Indiana</option>\n                  <option value=\"IA\">Iowa</option>\n                  <option value=\"KS\">Kansas</option>\n                  <option value=\"KY\">Kentucky</option>\n                  <option value=\"LA\">Louisiana</option>\n                  <option value=\"ME\">Maine</option>\n                  <option value=\"MD\">Maryland</option>\n                  <option value=\"MA\">Massachusetts</option>\n                  <option value=\"MI\">Michigan</option>\n                  <option value=\"MN\">Minnesota</option>\n                  <option value=\"MS\">Mississippi</option>\n                  <option value=\"MO\">Missouri</option>\n                  <option value=\"MT\">Montana</option>\n                  <option value=\"NE\">Nebraska</option>\n                  <option value=\"NV\">Nevada</option>\n                  <option value=\"NH\">New Hampshire</option>\n                  <option value=\"NJ\">New Jersey</option>\n                  <option value=\"NM\">New Mexico</option>\n                  <option value=\"NY\">New York</option>\n                  <option value=\"NC\">North Carolina</option>\n                  <option value=\"ND\">North Dakota</option>\n                  <option value=\"OH\">Ohio</option>\n                  <option value=\"OK\">Oklahoma</option>\n                  <option value=\"OR\">Oregon</option>\n                  <option value=\"PA\">Pennsylvania</option>\n                  <option value=\"RI\">Rhode Island</option>\n                  <option value=\"SC\">South Carolina</option>\n                  <option value=\"SD\">South Dakota</option>\n                  <option value=\"TN\">Tennessee</option>\n                  <option value=\"TX\">Texas</option>\n                  <option value=\"UT\">Utah</option>\n                  <option value=\"VT\">Vermont</option>\n                  <option value=\"VA\">Virginia</option>\n                  <option value=\"WA\">Washington</option>\n                  <option value=\"WV\">West Virginia</option>\n                  <option value=\"WI\">Wisconsin</option>\n                  <option value=\"WY\">Wyoming</option>\n                </Form.Control>\n              </Form.Group>\n\n              <Form.Group as={Col} controlId=\"formGridZip\">\n                <Form.Label>Zip</Form.Label>\n                <Form.Control name=\"zip\" type=\"text\" value={zip} onChange={this.handleChange} />\n              </Form.Group>\n            </Form.Row>\n\n            <Button variant=\"primary\" type=\"submit\" onClick={this.handleSubmit}>\n              Submit\n          </Button>\n            <input type=\"file\" hidden ref={fileInput => this.fileInput = fileInput} onChange={this.selectedFileHander} name=\"file\" />\n            <Button variant=\"info\" inputType=\"file\" onClick={() => this.fileInput.click()} className=\"pic-upload\" >\n              Photo\n          </Button>\n\n            <Button variant=\"secondary\" type=\"submit\" onClick={() => this.props.history.push('/')} className=\"cancel-btn\">\n              Cancel\n          </Button>\n          </Form>\n        </div>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    requesting: state.users.requested\n  }\n}\nexport default connect(null, { newUser, fetchUser })(Signup);\n"]},"metadata":{},"sourceType":"module"}