{"ast":null,"code":"var _jsxFileName = \"/Users/owner/Desktop/finalprojects/MyStagram/MyFront-end/src/components/PostCard.js\";\nimport React from \"react\";\nimport '../css/PostCard.css';\nimport '../css/Profile.css';\nimport placeholder from '../img/placeHolder.png';\nimport { connect } from 'react-redux';\nimport { deleteFollow, createFollow } from '../redux/actions/FollowActions';\nimport Loader from '../components/loader';\nimport { TheUser, ThePic } from './TheUser';\nimport { Player } from 'video-react';\n\nconst PostCard = props => {\n  const post = props.post,\n        user = props.user,\n        users = props.users,\n        deleteComment = props.deleteComment,\n        showThisUser = props.showThisUser;\n\n  const comment = () => {\n    const text = post.comments;\n\n    if (text) {\n      return text.map(t => {\n        // console.log(\"comments\", t)\n        return React.createElement(React.Fragment, null, React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 26\n          },\n          __self: this\n        }), \" \", React.createElement(\"span\", {\n          id: \"name-cap\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 26\n          },\n          __self: this\n        }, !!t.followee_id ? `${props.commentors()[t.followee_id.toString()]}:  ` : `${props.commentors()[props.userid]}:  `), React.createElement(\"p\", {\n          className: \"the-content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 29\n          },\n          __self: this\n        }, React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 29\n          },\n          __self: this\n        }), t.content, React.createElement(\"span\", {\n          className: \"delete-x\",\n          onClick: () => deleteComment(t),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 30\n          },\n          __self: this\n        }, \" \\u2718 \")));\n      });\n    } else {\n      return React.createElement(\"h6\", {\n        style: {\n          color: \"black\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, \"Be the first to comment\");\n    }\n  };\n\n  const activeComment = id => {\n    props.post2comment(id);\n  };\n\n  const whichUser = () => {\n    return post.user_id !== props.userid ? TheUser(post.user_id, users) : user;\n  };\n\n  const clearCommentBox = e => {\n    const resetComment = props.resetComment,\n          editCapStatus = props.editCapStatus,\n          getCapEditField = props.getCapEditField,\n          yourField = props.yourField;\n\n    if (props.commentLen <= 0 && yourField && e.target.className !== \"comment-input\") {\n      activeComment(e);\n      resetComment();\n    } else if (editCapStatus && e.target.id !== \"edit-caption-input\") {\n      return getCapEditField();\n    }\n  };\n\n  const editCapInput = cap => {\n    return React.createElement(\"input\", {\n      type: \"text\",\n      value: props.comment,\n      onChange: props.handleComment,\n      placeholder: ` ${cap}`,\n      id: \"edit-caption-input\",\n      name: \"comment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    });\n  };\n\n  const nameOrpic = id => {\n    if (!!ThePic(id, users) && ThePic(id, users).includes(\".jpg\")) {\n      return React.createElement(\"img\", {\n        src: `${ThePic(id, users)}`,\n        className: \"post-thumbnail\",\n        onClick: () => props.history.push('/profile'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      });\n    } else if (!!ThePic(id, users) && ThePic(id, users).includes('.mp4')) {\n      return React.createElement(Player, {\n        playsInline: true,\n        poster: \"\",\n        src: `${ThePic(id, users)}`,\n        style: {\n          width: \"5vw\",\n          float: \"right\",\n          marginRight: \"-60%\"\n        },\n        onClick: () => props.history.push('/profile'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      });\n    } else {\n      return TheUser(id, users);\n    }\n  };\n\n  const areFriends = postuser => {\n    const follows = props.follows,\n          userid = props.userid,\n          deleteFollow = props.deleteFollow,\n          createFollow = props.createFollow;\n\n    if (follows && postuser !== userid) {\n      const theFollow = follows.find(follow => follow.followee_id === postuser && follow.follower_id === userid);\n\n      if (postuser === userid) {\n        return React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, \"\\u2B50\\uFE0F\");\n      } else if (theFollow) {\n        return React.createElement(\"button\", {\n          id: \"were-friends\",\n          onClick: () => deleteFollow(theFollow.id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, \" \\uD83E\\uDD1D\");\n      } else {\n        return React.createElement(\"button\", {\n          id: \"add-friend\",\n          onClick: () => {\n            createFollow(postuser, userid);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, \" \\uD83E\\uDD1C\\uD83C\\uDFFD\\uD83D\\uDCA5\\uD83E\\uDD1B\\uD83C\\uDFFB\");\n      }\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: \"post-card-div\",\n    id: `${post.id}`,\n    onClick: e => console.log(e.target.id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: post.id,\n    className: \"post-card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, areFriends(post.user_id), React.createElement(\"span\", {\n    className: \"name-span-style\",\n    onClick: () => {\n      console.log(post.user_id);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, nameOrpic(post.user_id))), React.createElement(\"div\", {\n    className: \"img-div\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"image\",\n    src: post.picture || require('../img/placeHolder.png'),\n    onClick: showThisUser(post.user_id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"comments-div\",\n    id: post.id,\n    onClick: e => clearCommentBox(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, props.liked.includes(post.id) ? React.createElement(\"span\", {\n    id: \"on-heart\",\n    onClick: () => props.handleLikes(post.id, post.likes),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, \"\\u2764\\uFE0F\") : React.createElement(\"span\", {\n    id: \"off-heart\",\n    onClick: () => props.handleLikes(post.id, post.likes),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, \"\\u2661\"), React.createElement(\"div\", {\n    id: \"comments-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    id: post.id,\n    className: \"pen\",\n    onClick: () => activeComment(post.id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, props.yourField === post.id ? \"💬\" : \"🖋 \"), React.createElement(\"span\", {\n    className: \"likes\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, \"Likes: \", post.likes)), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    className: \"post-caption\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    id: \"name-cap\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, ` ${whichUser()}`, \":\")), \" \", props.editCapStatus ? editCapInput(post.caption) : post.caption, \" \", props.editCapStatus ? React.createElement(\"span\", {\n    id: \"submit-cap-edit\",\n    onClick: () => props.submitCapEdit(post.id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, \"  \\u2B06\\uFE0F \") : React.createElement(\"span\", {\n    id: \"edit-caption\",\n    onClick: () => props.getCapEditField(post.id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, \"\\uD83D\\uDD8B\"), \" \"), React.createElement(\"div\", {\n    className: \"ul-style\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, comment()), props.yourField === post.id ? React.createElement(\"input\", {\n    size: \"sm\",\n    type: \"text\",\n    name: \"comment\",\n    value: props.comment,\n    onChange: props.handleComment,\n    placeholder: \"comment\",\n    className: \"comment-input\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }) : React.createElement(React.Fragment, null, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  })), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }), props.commentLen > 0 && !props.editCapStatus && React.createElement(\"span\", {\n    onClick: props.submitComment,\n    id: \"post-span\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, \"\\u2B06\\uFE0F\"))));\n};\n\nconst mapStateToProps = state => {\n  return {\n    user: state.users.username,\n    userid: state.users.id,\n    follows: state.follows.follows,\n    status: state.post.requested\n  };\n};\n\nexport default connect(mapStateToProps, {\n  deleteFollow,\n  createFollow\n})(PostCard);","map":{"version":3,"sources":["/Users/owner/Desktop/finalprojects/MyStagram/MyFront-end/src/components/PostCard.js"],"names":["React","placeholder","connect","deleteFollow","createFollow","Loader","TheUser","ThePic","Player","PostCard","props","post","user","users","deleteComment","showThisUser","comment","text","comments","map","t","followee_id","commentors","toString","userid","content","color","activeComment","id","post2comment","whichUser","user_id","clearCommentBox","e","resetComment","editCapStatus","getCapEditField","yourField","commentLen","target","className","editCapInput","cap","handleComment","nameOrpic","includes","history","push","width","float","marginRight","areFriends","postuser","follows","theFollow","find","follow","follower_id","console","log","picture","require","liked","handleLikes","likes","caption","submitCapEdit","submitComment","mapStateToProps","state","username","status","requested"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport '../css/PostCard.css';\nimport '../css/Profile.css';\nimport placeholder from '../img/placeHolder.png';\nimport { connect } from 'react-redux';\nimport { deleteFollow, createFollow } from '../redux/actions/FollowActions';\nimport Loader from '../components/loader';\nimport { TheUser, ThePic } from './TheUser';\nimport { Player } from 'video-react'\n\n\n\n\nconst PostCard = props => {\n\n\n\n  const { post, user, users, deleteComment, showThisUser } = props;\n\n  const comment = () => {\n\n    const text = post.comments;\n    if (text) {\n      return text.map(t => {\n        // console.log(\"comments\", t)\n        return (<><br /> <span id=\"name-cap\">{!!t.followee_id ?\n          `${props.commentors()[t.followee_id.toString()]}:  ` :\n          `${props.commentors()[props.userid]}:  `\n        }</span><p className='the-content'><strong>\n        </strong>{t.content}<span className=\"delete-x\" onClick={() => deleteComment(t)}> ✘ </span></p></>);\n      });\n    } else {\n      return <h6 style={{ color: \"black\" }}>Be the first to comment</h6>;\n    }\n  };\n\n  const activeComment = (id) => {\n    props.post2comment(id)\n\n  }\n\n  const whichUser = () => {\n    return post.user_id !== props.userid ? TheUser(post.user_id, users) : user\n  }\n  const clearCommentBox = (e) => {\n    const { resetComment, editCapStatus, getCapEditField, yourField } = props\n    if (props.commentLen <= 0 && yourField && e.target.className !== \"comment-input\") {\n      activeComment(e); resetComment()\n    }\n    else if (editCapStatus && e.target.id !== \"edit-caption-input\") {\n      return getCapEditField()\n    }\n  }\n  const editCapInput = (cap) => {\n\n    return <input type='text' value={props.comment} onChange={props.handleComment} placeholder={` ${cap}`} id=\"edit-caption-input\" name=\"comment\" />\n  }\n\n  const nameOrpic = (id) => {\n    if (!!ThePic(id, users) && ThePic(id, users).includes(\".jpg\")) {\n      return (<img src={`${ThePic(id, users)}`} className=\"post-thumbnail\" onClick={() => props.history.push('/profile')} />)\n    }\n    else if (!!ThePic(id, users) && ThePic(id, users).includes('.mp4')) {\n      return (<Player\n        playsInline\n        poster=\"\"\n        src={`${ThePic(id, users)}`} style={{ width: \"5vw\", float: \"right\", marginRight: \"-60%\" }} onClick={() => props.history.push('/profile')} />)\n    }\n    else {\n      return TheUser(id, users)\n    }\n\n  }\n  const areFriends = (postuser) => {\n\n    const { follows, userid, deleteFollow, createFollow } = props\n    if (follows && postuser !== userid) {\n\n      const theFollow = follows.find(follow => follow.followee_id === postuser && follow.follower_id === userid);\n\n      if (postuser === userid) {\n        return <span>⭐️</span>\n      }\n      else if (theFollow) {\n        return (<button id=\"were-friends\" onClick={() => deleteFollow(theFollow.id)}> 🤝</button>)\n      }\n      else {\n        return <button id=\"add-friend\" onClick={() => { createFollow(postuser, userid) }}\n\n        > 🤜🏽💥🤛🏻</button>\n      }\n\n    }\n  }\n\n\n\n\n\n  return (\n\n    <div className=\"post-card-div\" id={`${post.id}`} onClick={(e) => console.log(e.target.id)}>\n\n      <div id={post.id} className=\"post-card\">\n        <div className=\"card-header\">\n\n          {areFriends(post.user_id)}\n\n          <span className=\"name-span-style\" onClick={() => { console.log(post.user_id) }}>{nameOrpic(post.user_id)}</span>\n        </div>\n\n        <div className=\"img-div\">\n          <img className=\"image\" src={post.picture || require('../img/placeHolder.png')} onClick={showThisUser(post.user_id)} />\n        </div>\n\n\n\n        <div className=\"comments-div\" id={post.id} onClick={(e) => clearCommentBox(e)}>\n          {props.liked.includes(post.id) ? <span id=\"on-heart\" onClick={() => props.handleLikes(post.id, post.likes)}>❤️</span>\n            :\n            <span id=\"off-heart\" onClick={() => props.handleLikes(post.id, post.likes)}>♡</span>}\n          <div id='comments-header'>\n            <span id={post.id} className=\"pen\" onClick={() => activeComment(post.id)}\n            >{props.yourField === post.id ? \"💬\" : \"🖋 \"}</span>\n            <span className=\"likes\" >Likes: {post.likes}</span>\n\n          </div>\n          <br />\n          <p className='post-caption'><span id=\"name-cap\"><strong>{` ${whichUser()}`}:</strong></span> {props.editCapStatus ? editCapInput(post.caption) : post.caption} {props.editCapStatus ? <span id=\"submit-cap-edit\" onClick={() => props.submitCapEdit(post.id)}>  ⬆️ </span> : <span id=\"edit-caption\" onClick={() => props.getCapEditField(post.id)}>🖋</span>} </p>\n          <div className='ul-style'>\n            {comment()}\n          </div>\n          {props.yourField === post.id ? <input\n            size=\"sm\"\n            type=\"text\"\n            name=\"comment\"\n            value={props.comment}\n            onChange={props.handleComment}\n            placeholder=\"comment\"\n            className=\"comment-input\"\n          /> : <><br /></>}\n          <br />\n\n          <br />\n          {props.commentLen > 0 && !props.editCapStatus && <span onClick={props.submitComment}\n            id=\"post-span\">\n            ⬆️\n      </span>}\n\n        </div>\n\n      </div>\n\n    </div>\n  );\n};\n\nconst mapStateToProps = state => {\n  return {\n    user: state.users.username,\n    userid: state.users.id,\n    follows: state.follows.follows,\n    status: state.post.requested\n  }\n}\nexport default connect(mapStateToProps, { deleteFollow, createFollow })(PostCard);\n\n"]},"metadata":{},"sourceType":"module"}