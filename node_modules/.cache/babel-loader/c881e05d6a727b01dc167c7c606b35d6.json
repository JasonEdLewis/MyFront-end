{"ast":null,"code":"var _jsxFileName = \"/Users/owner/Desktop/FlatIron/Mod_4/Project/MyStagram/MyFront-end/src/HomeContainer.js\";\nimport React from \"react\";\nimport \"./css/HomeContainer.css\";\nimport Postcard from \"./components/PostCard\";\nimport NewPostCard from \"./components/NewPostCard\";\nimport { fetchPost, submitNewPost } from './components/PostAdapter';\nimport { postComment } from './components/CommentAdapter';\nimport { Image } from 'react-bootstrap';\nimport Jack from \"./img/jack.jpg\";\nimport { connect } from 'react-redux';\nimport { Card, Form, Navbar, Button, NavbarBrand, Nav } from \"react-bootstrap\";\n\nclass HomeContainer extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      userId: this.props.userid,\n      name: this.props.user,\n      showCommentField: false,\n      comment: \"\",\n      post_id: \"\",\n      Picture: \"\",\n      caption: \"\",\n      likes: 0,\n      page: \"thePost\"\n    };\n\n    this.info = () => {\n      console.log(this.props);\n      return this.props;\n    };\n\n    this.handleComment = e => {\n      // console.log(e.target.value);\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.showCommentField = () => {\n      return this.setState({\n        showCommentField: !this.state.showCommentField\n      });\n    };\n\n    this.thePost = props => {\n      return this.props.post.map(p => React.createElement(Postcard, {\n        post: p,\n        commentLen: this.state.comment.length,\n        toggleCommentField: this.showCommentField,\n        commentFieldStatus: this.state.showCommentField,\n        id: p.id,\n        submitComment: () => this.submitComment(p.id, p.userId),\n        handleComment: this.handleComment,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }));\n    };\n\n    this.handleNewPostClick = () => {\n      this.setState({\n        newPost: !this.state.newPost\n      });\n    };\n\n    this.theNewPostCard = props => {\n      const userid = this.props.userid;\n      return React.createElement(NewPostCard, {\n        handleNewPost: this.handleNewPost,\n        submitPost: () => userid,\n        state: this.state,\n        userId: userid,\n        back: this.returnToThePost,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      });\n    };\n\n    this.myProfile = () => {\n      debugger;\n      const _this$props = this.props,\n            fposts = _this$props.fposts,\n            userid = _this$props.userid,\n            history = _this$props.history;\n      return history.push('/profile');\n    };\n\n    this.returnToThePost = () => {\n      this.setState({\n        page: \"thePost\"\n      });\n    };\n\n    this.submitComment = postId => {\n      const _this$state = this.state,\n            userId = _this$state.userId,\n            comment = _this$state.comment;\n      console.log(\"Post id\", postId, \"User is:\", userId, \"comment: \", this.state.comment);\n      postComment(postId, comment, userId).then(resp => resp.json()).then(console.log);\n    };\n\n    this.handleNewPost = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.pageToRender = () => {\n      switch (this.state.page) {\n        case \"thePost\":\n          return this.thePost();\n\n        case \"newPost\":\n          return this.theNewPostCard();\n\n        case \"profile\":\n          return this.myProfile();\n      }\n    };\n\n    this.logout = () => {\n      localStorage.clear();\n      this.props.history.push('/');\n    };\n  }\n\n  componentDidMount() {\n    debugger;\n    !!!localStorage.token && this.props.history.push('/');\n  }\n\n  render() {\n    // debugger\n    console.log(\"Home Container props\", this.props);\n    const _this$props2 = this.props,\n          fposts = _this$props2.fposts,\n          user = _this$props2.user,\n          userId = _this$props2.userId,\n          history = _this$props2.history;\n    return React.createElement(\"div\", {\n      className: \"Home-Container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"Homepage-nav\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"jays-gram\",\n      onClick: () => this.returnToThePost(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, this.props.user, \"s'taGram \")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"camera\",\n      id: this.state.id,\n      onClick: () => this.setState({\n        page: \"newPost\"\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \" \\uD83D\\uDCF8 \")), React.createElement(\"div\", {\n      className: \"thumb-and-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"thumbnail\",\n      onClick: () => this.setState({\n        page: \"profile\"\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: Jack,\n      id: \"thumbnail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }), \" \"), React.createElement(\"div\", {\n      className: \"logout\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      onClick: this.logout,\n      id: \"logout-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \" logout  \")))), React.createElement(\"div\", {\n      className: \"Home-Content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, this.pageToRender(), this.state.page !== \"newPost\" ? React.createElement(\"div\", {\n      className: \"Home-footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"Copyright \\xA9 2019 Jaystagram\") : React.createElement(React.Fragment, null)));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.users.username,\n    userid: state.users.id,\n    post: state.post.post.data\n  };\n};\n\nexport default connect(mapStateToProps, null)(HomeContainer);","map":{"version":3,"sources":["/Users/owner/Desktop/FlatIron/Mod_4/Project/MyStagram/MyFront-end/src/HomeContainer.js"],"names":["React","Postcard","NewPostCard","fetchPost","submitNewPost","postComment","Image","Jack","connect","Card","Form","Navbar","Button","NavbarBrand","Nav","HomeContainer","Component","state","userId","props","userid","name","user","showCommentField","comment","post_id","Picture","caption","likes","page","info","console","log","handleComment","e","setState","target","value","thePost","post","map","p","length","id","submitComment","handleNewPostClick","newPost","theNewPostCard","handleNewPost","returnToThePost","myProfile","fposts","history","push","postId","then","resp","json","pageToRender","logout","localStorage","clear","componentDidMount","token","render","mapStateToProps","users","username","data"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,yBAAP;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,SAASC,SAAT,EAAoBC,aAApB,QAAyC,0BAAzC;AACA,SAASC,WAAT,QAA4B,6BAA5B;AACA,SAASC,KAAT,QAAsB,iBAAtB;AACA,OAAOC,IAAP,MAAiB,gBAAjB;AACA,SAASC,OAAT,QAAwB,aAAxB;AAGA,SAASC,IAAT,EAAeC,IAAf,EAAqBC,MAArB,EAA6BC,MAA7B,EAAqCC,WAArC,EAAkDC,GAAlD,QAA6D,iBAA7D;;AAEA,MAAMC,aAAN,SAA4Bf,KAAK,CAACgB,SAAlC,CAA4C;AAAA;AAAA;AAAA,SAC1CC,KAD0C,GAClC;AACNC,MAAAA,MAAM,EAAE,KAAKC,KAAL,CAAWC,MADb;AAENC,MAAAA,IAAI,EAAE,KAAKF,KAAL,CAAWG,IAFX;AAGNC,MAAAA,gBAAgB,EAAE,KAHZ;AAINC,MAAAA,OAAO,EAAE,EAJH;AAKNC,MAAAA,OAAO,EAAE,EALH;AAMNC,MAAAA,OAAO,EAAE,EANH;AAONC,MAAAA,OAAO,EAAE,EAPH;AAQNC,MAAAA,KAAK,EAAE,CARD;AASNC,MAAAA,IAAI,EAAE;AATA,KADkC;;AAAA,SAoB1CC,IApB0C,GAoBnC,MAAM;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKb,KAAjB;AACA,aAAO,KAAKA,KAAZ;AACD,KAvByC;;AAAA,SAyB1Cc,aAzB0C,GAyB1BC,CAAC,IAAI;AACnB;AACA,WAAKC,QAAL,CAAc;AACZ,SAACD,CAAC,CAACE,MAAF,CAASf,IAAV,GAAiBa,CAAC,CAACE,MAAF,CAASC;AADd,OAAd;AAGD,KA9ByC;;AAAA,SA+B5Cd,gBA/B4C,GA+B3B,MAAI;AACnB,aAAO,KAAKY,QAAL,CAAc;AAACZ,QAAAA,gBAAgB,EAAE,CAAC,KAAKN,KAAL,CAAWM;AAA/B,OAAd,CAAP;AACD,KAjC2C;;AAAA,SAkC1Ce,OAlC0C,GAkChCnB,KAAK,IAAI;AAEjB,aAAO,KAAKA,KAAL,CAAWoB,IAAX,CAAgBC,GAAhB,CAAoBC,CAAC,IAC1B,oBAAC,QAAD;AACE,QAAA,IAAI,EAAEA,CADR;AAEE,QAAA,UAAU,EAAE,KAAKxB,KAAL,CAAWO,OAAX,CAAmBkB,MAFjC;AAGE,QAAA,kBAAkB,EAAE,KAAKnB,gBAH3B;AAIE,QAAA,kBAAkB,EAAE,KAAKN,KAAL,CAAWM,gBAJjC;AAKE,QAAA,EAAE,EAAEkB,CAAC,CAACE,EALR;AAME,QAAA,aAAa,EAAE,MAAM,KAAKC,aAAL,CAAmBH,CAAC,CAACE,EAArB,EAAyBF,CAAC,CAACvB,MAA3B,CANvB;AAOE,QAAA,aAAa,EAAE,KAAKe,aAPtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADK,CAAP;AAWD,KA/CyC;;AAAA,SAkD1CY,kBAlD0C,GAkDrB,MAAM;AACzB,WAAKV,QAAL,CAAc;AAAEW,QAAAA,OAAO,EAAE,CAAC,KAAK7B,KAAL,CAAW6B;AAAvB,OAAd;AACD,KApDyC;;AAAA,SAsD1CC,cAtD0C,GAsDzB5B,KAAK,IAAI;AAAA,YACjBC,MADiB,GACN,KAAKD,KADC,CACjBC,MADiB;AAExB,aACE,oBAAC,WAAD;AACE,QAAA,aAAa,EAAE,KAAK4B,aADtB;AAEE,QAAA,UAAU,EAAE,MAAO5B,MAFrB;AAGE,QAAA,KAAK,EAAE,KAAKH,KAHd;AAIE,QAAA,MAAM,EAAEG,MAJV;AAKE,QAAA,IAAI,EAAE,KAAK6B,eALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAUD,KAlEyC;;AAAA,SAoE1CC,SApE0C,GAoE9B,MAAM;AAChB;AADgB,0BAEoB,KAAK/B,KAFzB;AAAA,YAERgC,MAFQ,eAERA,MAFQ;AAAA,YAEA/B,MAFA,eAEAA,MAFA;AAAA,YAEQgC,OAFR,eAEQA,OAFR;AAIhB,aAASA,OAAO,CAACC,IAAR,CAAa,UAAb,CAAT;AAKD,KA7EyC;;AAAA,SAgF1CJ,eAhF0C,GAgFxB,MAAM;AACtB,WAAKd,QAAL,CAAc;AAAEN,QAAAA,IAAI,EAAE;AAAR,OAAd;AACD,KAlFyC;;AAAA,SAmF1Ce,aAnF0C,GAmFzBU,MAAD,IAAY;AAAA,0BACC,KAAKrC,KADN;AAAA,YACnBC,MADmB,eACnBA,MADmB;AAAA,YACXM,OADW,eACXA,OADW;AAE1BO,MAAAA,OAAO,CAACC,GAAR,CACE,SADF,EAEEsB,MAFF,EAGE,UAHF,EAIEpC,MAJF,EAKE,WALF,EAME,KAAKD,KAAL,CAAWO,OANb;AAQAnB,MAAAA,WAAW,CAACiD,MAAD,EAAS9B,OAAT,EAAkBN,MAAlB,CAAX,CACGqC,IADH,CACQC,IAAI,IAAIA,IAAI,CAACC,IAAL,EADhB,EAEGF,IAFH,CAEQxB,OAAO,CAACC,GAFhB;AAGD,KAhGyC;;AAAA,SAkG1CgB,aAlG0C,GAkG1Bd,CAAC,IAAI;AACnB,WAAKC,QAAL,CAAc;AACZ,SAACD,CAAC,CAACE,MAAF,CAASf,IAAV,GAAiBa,CAAC,CAACE,MAAF,CAASC;AADd,OAAd;AAGD,KAtGyC;;AAAA,SAwG1CqB,YAxG0C,GAwG3B,MAAM;AAEnB,cAAQ,KAAKzC,KAAL,CAAWY,IAAnB;AACE,aAAK,SAAL;AACE,iBAAO,KAAKS,OAAL,EAAP;;AACF,aAAK,SAAL;AACE,iBAAO,KAAKS,cAAL,EAAP;;AACF,aAAK,SAAL;AACE,iBAAO,KAAKG,SAAL,EAAP;AANJ;AAQD,KAlHyC;;AAAA,SAmH1CS,MAnH0C,GAmHjC,MAAM;AACbC,MAAAA,YAAY,CAACC,KAAb;AACA,WAAK1C,KAAL,CAAWiC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACD,KAtHyC;AAAA;;AAc1CS,EAAAA,iBAAiB,GAAG;AAClB;AACA,KAAC,CAAC,CAACF,YAAY,CAACG,KAAhB,IAAyB,KAAK5C,KAAL,CAAWiC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB,CAAzB;AACD;;AAwGDW,EAAAA,MAAM,GAAG;AACP;AACAjC,IAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoC,KAAKb,KAAzC;AAFO,yBAGmC,KAAKA,KAHxC;AAAA,UAGCgC,MAHD,gBAGCA,MAHD;AAAA,UAGS7B,IAHT,gBAGSA,IAHT;AAAA,UAGeJ,MAHf,gBAGeA,MAHf;AAAA,UAGuBkC,OAHvB,gBAGuBA,OAHvB;AAKP,WACE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE;AAAK,MAAA,EAAE,EAAC,WAAR;AAAoB,MAAA,OAAO,EAAE,MAAM,KAAKH,eAAL,EAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAQ,KAAK9B,KAAL,CAAWG,IAAnB,cAA3D,CAFF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAM,MAAA,SAAS,EAAC,QAAhB;AAAyB,MAAA,EAAE,EAAE,KAAKL,KAAL,CAAW0B,EAAxC;AAA4C,MAAA,OAAO,EAAE,MAAM,KAAKR,QAAL,CAAc;AAAEN,QAAAA,IAAI,EAAE;AAAR,OAAd,CAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,CAJF,EAQE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAA2B,MAAA,OAAO,EAAE,MAAM,KAAKM,QAAL,CAAc;AAAEN,QAAAA,IAAI,EAAE;AAAR,OAAd,CAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA8E;AAAK,MAAA,GAAG,EAAEtB,IAAV;AAAgB,MAAA,EAAE,EAAC,WAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA9E,MADF,EAEE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwB;AAAM,MAAA,OAAO,EAAE,KAAKoD,MAApB;AAA4B,MAAA,EAAE,EAAC,eAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAxB,CAFF,CARF,CADF,EAmBE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEG,KAAKD,YAAL,EAFH,EAGG,KAAKzC,KAAL,CAAWY,IAAX,KAAoB,SAApB,GAAgC;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAAhC,GAAsG,yCAHzG,CAnBF,CADF;AA8BD;;AA5JyC;;AA+J5C,MAAMoC,eAAe,GAAIhD,KAAD,IAAS;AAC/B,SAAO;AACLK,IAAAA,IAAI,EAAEL,KAAK,CAACiD,KAAN,CAAYC,QADb;AAEL/C,IAAAA,MAAM,EAAEH,KAAK,CAACiD,KAAN,CAAYvB,EAFf;AAGLJ,IAAAA,IAAI,EAAEtB,KAAK,CAACsB,IAAN,CAAWA,IAAX,CAAgB6B;AAHjB,GAAP;AAKD,CAND;;AAQA,eAAe5D,OAAO,CAACyD,eAAD,EAAkB,IAAlB,CAAP,CAAgClD,aAAhC,CAAf","sourcesContent":["import React from \"react\";\nimport \"./css/HomeContainer.css\";\nimport Postcard from \"./components/PostCard\";\nimport NewPostCard from \"./components/NewPostCard\";\nimport { fetchPost, submitNewPost } from './components/PostAdapter';\nimport { postComment } from './components/CommentAdapter';\nimport { Image } from 'react-bootstrap';\nimport Jack from \"./img/jack.jpg\";\nimport { connect } from 'react-redux'\n\n\nimport { Card, Form, Navbar, Button, NavbarBrand, Nav } from \"react-bootstrap\";\n\nclass HomeContainer extends React.Component {\n  state = {\n    userId: this.props.userid,\n    name: this.props.user,\n    showCommentField: false,\n    comment: \"\",\n    post_id: \"\",\n    Picture: \"\",\n    caption: \"\",\n    likes: 0,\n    page: \"thePost\"\n\n  };\n\n  componentDidMount() {\n    debugger\n    !!!localStorage.token && this.props.history.push('/')\n  }\n\n\n  info = () => {\n    console.log(this.props);\n    return this.props;\n  };\n\n  handleComment = e => {\n    // console.log(e.target.value);\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\nshowCommentField=()=>{\n  return this.setState({showCommentField: !this.state.showCommentField})\n}\n  thePost = props => {\n\n    return this.props.post.map(p => (\n      <Postcard\n        post={p}\n        commentLen={this.state.comment.length}\n        toggleCommentField={this.showCommentField}\n        commentFieldStatus={this.state.showCommentField}\n        id={p.id}\n        submitComment={() => this.submitComment(p.id, p.userId)}\n        handleComment={this.handleComment}\n      />\n    ));\n  };\n\n  // SUBMIT THE COMMENT /FETCH POST\n  handleNewPostClick = () => {\n    this.setState({ newPost: !this.state.newPost });\n  };\n\n  theNewPostCard = props => {\n    const {userid } = this.props\n    return (\n      <NewPostCard\n        handleNewPost={this.handleNewPost}\n        submitPost={() => (userid)}\n        state={this.state}\n        userId={userid}\n        back={this.returnToThePost}\n\n      />\n    );\n  };\n\n  myProfile = () => {\n    debugger\n    const { fposts, userid, history } = this.props\n   \n    return ( history.push('/profile')\n     \n      \n    );\n   \n  };\n \n\n  returnToThePost = () => {\n    this.setState({ page: \"thePost\" })\n  }\n  submitComment = (postId) => {\n    const {userId ,comment } = this.state\n    console.log(\n      \"Post id\",\n      postId,\n      \"User is:\",\n      userId,\n      \"comment: \",\n      this.state.comment\n    );\n    postComment(postId, comment, userId)\n      .then(resp => resp.json())\n      .then(console.log);\n  };\n\n  handleNewPost = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\n\n  pageToRender = () => {\n\n    switch (this.state.page) {\n      case \"thePost\":\n        return this.thePost()\n      case \"newPost\":\n        return this.theNewPostCard()\n      case \"profile\":\n        return this.myProfile()\n    }\n  }\n  logout = () => {\n    localStorage.clear()\n    this.props.history.push('/')\n  }\n\n\n  render() {\n    // debugger\n    console.log(\"Home Container props\", this.props);\n    const { fposts, user, userId, history } = this.props;\n\n    return (\n      <div className=\"Home-Container\">\n        <div className=\"Homepage-nav\">\n\n          <div id=\"jays-gram\" onClick={() => this.returnToThePost()}><span >{this.props.user}s'taGram </span></div>\n\n          <div>\n            <span className=\"camera\" id={this.state.id} onClick={() => this.setState({ page: \"newPost\" })}> 📸 </span>\n          </div>\n\n          <div className=\"thumb-and-button\">\n            <div className=\"thumbnail\" onClick={() => this.setState({ page: \"profile\" })}><img src={Jack} id='thumbnail' /> </div>\n            <div className=\"logout\"><span onClick={this.logout} id=\"logout-button\" > logout  </span></div>\n\n\n\n          </div>\n\n\n        </div>\n        <div className=\"Home-Content\">\n\n          {this.pageToRender()}\n          {this.state.page !== \"newPost\" ? <div className=\"Home-footer\">Copyright &copy; 2019 Jaystagram</div> : <></>}\n        </div>\n      </div>\n\n\n\n    );\n  }\n \n}\nconst mapStateToProps = (state)=>{\n  return {\n    user: state.users.username,\n    userid: state.users.id,\n    post: state.post.post.data\n  }\n}\n\nexport default connect(mapStateToProps, null )(HomeContainer);\n\n"]},"metadata":{},"sourceType":"module"}